<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<title>Glyph</title>
<meta name="author" content="Fabio Cevasco" />
<meta name="copyright" content="Fabio Cevasco" />
<meta name="generator" content="Glyph v0.2.0 (http://www.h3rald.com/glyph)" />
<style type="text/css">
* {
	border: none;
	font-family: inherit;
	font-size: 100%;
	font-style: inherit;
	margin: 0;
	padding: 0;
}
html {
	background: #fff;
}
ol, ul {
	margin: 0.3em 0;
}
p {
	margin: 1em 0;
}

table {
	border-collapse: collapse;
	border-spacing: 0;
	margin: auto;
	margin-top: 1em;
}
body {
	line-height: 1.2em;
	margin: 0;
	padding: 0;
	padding: 0 1em;
	text-align: justify;
}

/* Structure */
.titlepage {
	margin: auto;
	text-align: center;
}
.title, h1 {
	font-size: 2.5em;
	font-weight: bold;
	line-height: 1.5em;
	margin-bottom: 0.2em;
}
.titlepage h2 {
	font-size: 1.1em;
	font-style: italic;
	font-weight: bold;
	line-height: 1.2em;
	margin-bottom: 0.5em;
	prince-bookmark-level: none;
}
.author {
	font-size: 1em;
}
.pubdate {
	font-size: 0.8em;
}
li {
	list-style-type: square;
	margin: 0.4em 0;
	margin-left: 1.5em;
}
ol li{
	list-style-type: decimal;
}
.contents li {
	list-style-type: none;
}
img {
	margin: 0 5px;
	padding: 2px;
}
dt {
	font-weight: bold;
	margin-top: 1em;
}
dd {
	font-style: italic;
}

blockquote {
	margin: 1em 1em;
	font-style: italic;
	color: #121212;
}

table {
	border: 1px solid #E6E6E6;
}
th {
	background: #EEE;
}
tr, td, th {
	padding: 5px;
}
td, tr {
	border: 1px solid #E6E6E6;
}
sup {
	font-size: 0.7em;
	font-weight: bold;
	margin-left: -0.4em;
}
/* BLOCKS */
.center {
	margin: auto;
	text-align: center;
}
.left {
	margin: auto;
	text-align: left;
}
.right {
	margin: auto;
	text-align: center;
}

.note, 
.important, 
.tip, 
.caution, 
.box {
	border: 1px solid #E6E6E6;
	display: block;
	margin: 0.5em auto;
	padding: 0 0.5em;
	width: 600px;
	background: #EEE;
	color: #1F1F1F;
}
.note-title {
	font-weight: bold;
	margin-right: 1em;
}
.box-title {
	display: block;
	text-align: center;
	font-weight: bold;
}
.code {
	margin: 1em auto;
	padding: 0.5em;
	width: 600px;
}
.comment {
	display: block;
	border: 1px solid #004D00;
	background: #7AFF7A;
	padding: 3px;
	margin: 1px;
}
.comment .comment-pre {
	color: #004D00;
}
.todo {
	display: block;
	border: 1px solid #990000;
	background: #FF9999;
	padding: 3px;
	margin: 1px;
}
.todo .todo-pre {
	color: #990000;
}
/* TEXT */
body {
	color: #000;
	font-size: 1em;
}
h2 {
	display: block;
	font-size: 2em;
	font-weight: bold;
	margin: 3em 0 1em 0;
}
h3 {
	font-size: 1.6em;
	font-weight: bold;
	margin: 3em 0 1em 0;
}
h4 {
	font-size: 1.3em;
	font-weight: bold;
	margin: 3em 0 1em 0;
}
em {
	font-style: italic;
}
a {
	color: #8A1513;
	text-decoration: none;
}
a:hover {
	color: #CF282D;
}
code, pre {
	font-size: 0.75em;
}
pre{
	margin: 1em;
	padding: 1em;
}

pre>code {
	font-size: 1em;
}
td p, td ul, td ol {
	margin: 0;
}
td>div.code, td>code {
	width: auto;
	margin: 0.2em;
	padding: 0.2em;
}

/* FONTS */
body {
	font-family: "Book Antiqua", "Times New Roman", "Serif";
}

code, pre {
	font-family: "Droid Sans Mono", "Consolas", "Monaco", "Courier", "Monospace";
}


</style>
		
		
		<style type="text/css">
pre.blackboard .LatexSupport {
   color: #FBDE2D;
}
pre.blackboard .OcamlInfixOperator {
   color: #8DA6CE;
}
pre.blackboard .MetaFunctionCallPy {
   color: #BECDE6;
}
pre.blackboard .Superclass {
   color: #FF6400;
   font-style: italic;
}
pre.blackboard .Constant {
   color: #D8FA3C;
}
pre.blackboard {
   background-color: #0C1021;
   color: #F8F8F8;
}
pre.blackboard .OcamlFPConstant {
   text-decoration: underline;
}
pre.blackboard .OcamlFPInfixOperator {
   text-decoration: underline;
}
pre.blackboard .Support {
   color: #8DA6CE;
}
pre.blackboard .OcamlOperator {
   color: #F8F8F8;
}
pre.blackboard .Storage {
   color: #FBDE2D;
}
pre.blackboard .line-numbers {
   background-color: #253B76;
   color: #FFFFFF;
}
pre.blackboard .StringInterpolation {
   color: #FF6400;
}
pre.blackboard .InvalidIllegal {
   background-color: #9D1E15;
   color: #F8F8F8;
}
pre.blackboard .PlistUnquotedString {
   color: #FFFFFF;
}
pre.blackboard .OcamlVariant {
   color: #D5E0F3;
}
pre.blackboard .MetaTag {
   color: #7F90AA;
}
pre.blackboard .LatexEnvironment {
   background-color: #F7F7F8;
}
pre.blackboard .OcamlFPPrefixOperator {
   text-decoration: underline;
}
pre.blackboard .OcamlPrefixOperator {
   color: #8DA6CE;
}
pre.blackboard .EntityNameSection {
   color: #FFFFFF;
}
pre.blackboard .String {
   color: #61CE3C;
}
pre.blackboard .Keyword {
   color: #FBDE2D;
}
pre.blackboard .LatexEnvironmentNested {
   background-color: #7691F3;
}
pre.blackboard .InvalidDeprecated {
   color: #AB2A1D;
   font-style: italic;
}
pre.blackboard .Variable {
}
pre.blackboard .Entity {
   color: #FF6400;
}
pre.blackboard .Comment {
   color: #AEAEAE;
}

</style>
</head>

	<body>
<div class="titlepage">
<img src="images/glyph.png" width="20%" height="20%" />
			<h1>
			Glyph
</h1>
			<h2>
Rapid Document Authoring Framework
</h2>
			v0.2.0
			<div class="author">
by <em>Fabio Cevasco</em>
</div>
			<div class="pubdate">
May 2010
</div>

</div>
		<div class="frontmatter">
<div class="contents">
<h2 class="toc-header" id="h_toc">Table of Contents</h2>
<ol class="toc">
<li class="frontmatter introduction"><a href="#h_1">Introduction</a></li>
<li><ol><li class="frontmatter section"><a href="#h_2">Main Features</a></li>
<li class="frontmatter section"><a href="#h_3">Installation</a></li>
<li class="frontmatter section"><a href="#h_4">Essential Glyph commands</a></li>
<li class="frontmatter section"><a href="#macros_nutshell">Glyph macros in a nutshell</a></li>
<li class="frontmatter section"><a href="#h_6">Resources</a></li>
<li class="frontmatter section"><a href="#h_7">License</a></li>
</ol></li>
<li class="frontmatter acknowledgement"><a href="#h_8">Acknowledgement</a></li>
<li class="bodymatter chapter"><a href="#h_9">Getting Started</a></li>
<li><ol><li class="bodymatter section"><a href="#h_10">Creating your first Glyph Project</a></li>
<li class="bodymatter section"><a href="#struct">Document Structure</a></li>
<li class="bodymatter section"><a href="#cfg">Project Configuration</a></li>
</ol></li>
<li class="bodymatter chapter"><a href="#h_13">Authoring Documents</a></li>
<li><ol><li class="bodymatter section"><a href="#h_14">Text Editing</a></li>
<li><ol><li class="bodymatter section"><a href="#h_15">Introducing Glyph Macros</a></li>
<li class="bodymatter section"><a href="#esc_quot">Escaping and Quoting</a></li>
<li class="bodymatter section"><a href="#sec_head">Sections and Headers</a></li>
<li class="bodymatter section"><a href="#incl">Including Files and Snippets</a></li>
<li class="bodymatter section"><a href="#links">Links and Bookmarks</a></li>
<li class="bodymatter section"><a href="#h_20">Evaluating Ruby code and Configuration Settings</a></li>
<li class="bodymatter section"><a href="#cond_macros">Conditional Macros</a></li>
<li><ol><li class="bodymatter section"><a href="#h_22">Using macros inside the condition macro</a></li>
<li class="bodymatter section"><a href="#h_23">Results of conditional expressions</a></li>
</ol></li>
<li class="bodymatter section"><a href="#img_fig">Images and Figures</a></li>
<li class="bodymatter section"><a href="#source_code">Source code</a></li>
<li><ol><li class="bodymatter section"><a href="#h_26">Inline code</a></li>
<li class="bodymatter section"><a href="#h_27">Code block</a></li>
</ol></li>
</ol></li>
<li class="bodymatter section"><a href="#compile">Compiling your project</a></li>
<li><ol><li class="bodymatter section"><a href="#stylesheets">Adding Stylesheets</a></li>
<li><ol><li class="bodymatter section"><a href="#default_styles">Default Stylesheets</a></li>
</ol></li>
<li class="bodymatter section"><a href="#h_31">HTML output</a></li>
<li class="bodymatter section"><a href="#h_32">PDF Output</a></li>
<li class="bodymatter section"><a href="#auto_regeneration">Auto Regeneration</a></li>
</ol></li>
<li class="bodymatter section"><a href="#lite_mode">Compiling single Glyph files</a></li>
<li><ol><li class="bodymatter section"><a href="#lite_limitations">Limitations</a></li>
</ol></li>
<li class="bodymatter section"><a href="#h_36">Using Glyph programmatically</a></li>
</ol></li>
<li class="bodymatter chapter"><a href="#extending">Extending Glyph</a></li>
<li><ol><li class="bodymatter section"><a href="#h_38">Anatomy of a Macro</a></li>
<li class="bodymatter section"><a href="#h_39">Bookmarks and Headers</a></li>
<li class="bodymatter section"><a href="#h_40">Using Placeholders</a></li>
<li class="bodymatter section"><a href="#h_41">Using Validators</a></li>
<li class="bodymatter section"><a href="#h_42">Interpreting Glyph Code</a></li>
<li><ol><li class="bodymatter section"><a href="#encode_decode">Encoding and Decoding Glyph Code</a></li>
</ol></li>
<li class="bodymatter section"><a href="#h_44">Further Reading</a></li>
</ol></li>
<li class="bodymatter chapter"><a href="#h_45">Troubleshooting</a></li>
<li><ol><li class="bodymatter section"><a href="#h_46">Generic Errors</a></li>
<li class="bodymatter section"><a href="#h_47">Command Errors</a></li>
<li class="bodymatter section"><a href="#h_48">Macro Errors</a></li>
</ol></li>
<li class="backmatter appendix"><a href="#cmd_ref">Command Reference</a></li>
<li><ol><li class="appendix section"><a href="#h_50">Global Options</a></li>
<li><ol><li class="appendix section"><a href="#debug_switch">@-d@, @--debug@</a></li>
</ol></li>
<li class="appendix section"><a href="#c_add">@add@</a></li>
<li class="appendix section"><a href="#c_compile">@compile@</a></li>
<li class="appendix section"><a href="#c_config">@config@</a></li>
<li class="appendix section"><a href="#c_help">@help@</a></li>
<li class="appendix section"><a href="#c_init">@init@</a></li>
<li class="appendix section"><a href="#c_todo">@todo@</a></li>
</ol></li>
<li class="backmatter appendix"><a href="#macro_ref">Macro Reference</a></li>
<li><ol><li class="appendix section"><a href="#m_and">and</a></li>
<li class="appendix section"><a href="#m_comment">comment</a></li>
<li class="appendix section"><a href="#m_condition">condition</a></li>
<li class="appendix section"><a href="#m_config">config</a></li>
<li class="appendix section"><a href="#m_config_">config:</a></li>
<li class="appendix section"><a href="#m_decode">decode</a></li>
<li class="appendix section"><a href="#m_encode">encode</a></li>
<li class="appendix section"><a href="#m_eq">eq</a></li>
<li class="appendix section"><a href="#m_escape">escape</a></li>
<li class="appendix section"><a href="#m_include">include</a></li>
<li class="appendix section"><a href="#m_match">match</a></li>
<li class="appendix section"><a href="#m_macro_">macro:</a></li>
<li class="appendix section"><a href="#m_not">not</a></li>
<li class="appendix section"><a href="#m_or">or</a></li>
<li class="appendix section"><a href="#m_ruby">ruby</a></li>
<li class="appendix section"><a href="#m_snippet">snippet</a></li>
<li class="appendix section"><a href="#m_snippet_">snippet:</a></li>
<li class="appendix section"><a href="#m_todo">todo</a></li>
<li class="appendix section"><a href="#f_macros">Filter Macros</a></li>
<li><ol><li class="appendix section"><a href="#m_markdown">markdown</a></li>
<li class="appendix section"><a href="#m_textile">textile</a></li>
</ol></li>
<li class="appendix section"><a href="#h_80">Block Macros</a></li>
<li><ol><li class="appendix section"><a href="#m_box">box</a></li>
<li class="appendix section"><a href="#m_code">code</a></li>
<li class="appendix section"><a href="#m_fig">fig</a></li>
<li class="appendix section"><a href="#m_highlight">highlight</a></li>
<li class="appendix section"><a href="#m_img">img</a></li>
<li class="appendix section"><a href="#m_note">note</a></li>
<li class="appendix section"><a href="#m_pubdate">pubdate</a></li>
<li class="appendix section"><a href="#m_subtitle">subtitle</a></li>
<li class="appendix section"><a href="#m_table">table</a></li>
<li class="appendix section"><a href="#m_td">td</a></li>
<li class="appendix section"><a href="#m_title">title</a></li>
<li class="appendix section"><a href="#m_th">th</a></li>
<li class="appendix section"><a href="#m_tr">tr</a></li>
</ol></li>
<li class="appendix section"><a href="#h_94">Inline Macros</a></li>
<li><ol><li class="appendix section"><a href="#m_anchor">anchor</a></li>
<li class="appendix section"><a href="#m_codeph">codeph</a></li>
<li class="appendix section"><a href="#m_draftcomment">draftcomment</a></li>
<li class="appendix section"><a href="#m_fmi">fmi</a></li>
<li class="appendix section"><a href="#m_link">link</a></li>
</ol></li>
<li class="appendix section"><a href="#h_100">Structure Macros</a></li>
<li><ol><li class="appendix section"><a href="#m_body">body</a></li>
<li class="appendix section"><a href="#m_div">div</a></li>
<li class="appendix section"><a href="#m_document">document</a></li>
<li class="appendix section"><a href="#m_head">head</a></li>
<li class="appendix section"><a href="#m_header">header</a></li>
<li class="appendix section"><a href="#m_section">section</a></li>
<li class="appendix section"><a href="#m_style">style</a></li>
<li class="appendix section"><a href="#m_toc">toc</a></li>
</ol></li>
</ol></li>
<li class="backmatter appendix"><a href="#cfg_ref">Configuration Reference</a></li>
<li><ol><li class="appendix section"><a href="#h_110">document.*</a></li>
<li class="appendix section"><a href="#h_111">filters.*</a></li>
<li class="appendix section"><a href="#s_highlighters">highlighters.*</a></li>
<li class="appendix section"><a href="#h_113">structure.*</a></li>
<li class="appendix section"><a href="#h_114">tools.*</a></li>
</ol></li>
<li class="backmatter appendix"><a href="#h_115">Changelog</a></li>

</ol>
</div>
			<div class="introduction">
<h2 id="h_1">Introduction</h2>
<p>Glyph is a <em>Rapid Document Authoring Framework</em>.</p>
<p>Think of it like a sort of <a href="http://www.rubyonrails.org">Ruby on Rails</a> but for creating text documents instead of web sites. With Glyph, you can manage your documents tidily in <em>projects</em> that can be used to generate deliverables in different formats such as <span class="caps">HTML</span> or <span class="caps">PDF</span> (through <a href="http://www.princexml.com/">Prince</a>).</p>
<div class="section">
<h3 id="h_2">Main Features</h3>
<p>Glyph uses a simple macro system to perform a wide variety of advanced tasks:</p>
<ul>
	<li>Generate block-level <span class="caps">HTML</span> tags not commonly managed by lightweight markups, like <code>head</code>, <code>body</code>, <code>div</code> and <code>table</code>.</li>
	<li>Create and validate internal and external links.</li>
	<li>Include and validate images and figures.</li>
	<li>Automatically determine header levels based on the document structure.</li>
	<li>Automatically generate a Table of Contents based on the document structure.</li>
	<li>Store common snippets of text in a single <span class="caps">YAML</span> file and use them anywhere in your document, as many times as you need.</li>
	<li>Store configuration settings in a <span class="caps">YAML</span> file and use them anywhere in your document, as many times as you need.</li>
	<li>Evaluate Ruby code within your document.</li>
	<li>Include content only if certain conditions are satisfied.</li>
	<li>Define macros, snippets and configuration settings directly within your document.</li>
	<li>Highlight source code.</li>
	<li>Call macros from other macros (including snippets), avoiding mutual calls.</li>
	<li>Include text files in other text files.</li>
	<li>Include the value of any configuration setting (like author, title) in the document.</li>
	<li>Filter input explicitly or implicitly, based on file extensions when including files.</li>
	<li>Manage draft comments and todo items.</li>
</ul>
</div>
<div class="section">
<h3 id="h_3">Installation</h3>
<p><code>gem install glyph</code> &#8212; simple, as always.</p>
</div>
<div class="section">
<h3 id="h_4">Essential Glyph commands</h3>
<p>Glyph is 100% command line. Its interface resambles <a href="http://git-scm.com/">Git&#8217;s</a> for its simplicity and power (thanks to the <a href="http://github.com/davetron5000/gli">gli</a> gem). Here are some example commands:</p>
<ul>
	<li><code>glyph init</code> &#8212; to initialize a new Glyph project in the current (empty) directory.</li>
	<li><code>glyph add introduction.textile</code> &#8212; to create a new file called <em>introduction.textile</em>.</li>
	<li><code>glyph compile</code> &#8212; to compile the current document into a single <span class="caps">HTML</span> file.</li>
	<li><code>glyph compile --auto</code> &#8212; to keep recompiling the current document every time a file is changed.</li>
	<li><code>glyph compile -f pdf</code> &#8212; to compile the current document into <span class="caps">HTML</span> and then transform it into <span class="caps">PDF</span> using <a href="http://www.princexml.com/">Prince</a>.</li>
	<li><code>glyph compile readme.glyph</code> &#8212; to compile a <em>readme.glyph</em> located in the current directory into a single <span class="caps">HTML</span> file.</li>
</ul>
</div>
<div class="section">
<h3 id="macros_nutshell">Glyph macros in a nutshell</h3>
<p>Format your documents using Textile or Markdown, and use Glyph Macros to do everything else:</p>
<p><b>Glyph Source:</b></p>
<p><code>section[@title[Something about Glyph]
You can use Glyph macros in conjunction
 with _Textile_ or _Markdown_ to
produce HTML files effortlessly.
  section[
		@title[What about PDFs?]
		@id[pdf]
Once you have a single, well-formatted HTML 
file, converting it to PDF is
extremely easy with a 3rd-party 
renderer like =&gt;[http://www.princexml.com|Prince].
  ]   
]</code></p>
<p><b><span class="caps">HTML</span> Output:</b></p>
<p><code>&lt;div class="section"&gt;
  &lt;h2 id="h_10"&gt;Something about Glyph&lt;/h2&gt;
  &lt;p&gt;You can use Glyph macros in conjunction with 
     &lt;em&gt;Textile&lt;/em&gt; or &lt;em&gt;Markdown&lt;/em&gt; to
     produce HTML files effortlessly.&lt;/p&gt;
  &lt;div class="section"&gt;
   &lt;h3 id="pdf"&gt;What about PDFs?&lt;/h3&gt;
   &lt;p&gt;Once you have a single, well-formatted HTML 
      file, converting it to PDF is
      extremely easy with a 3rd-party renderer 
      like &lt;a href="http://www.princexml.com"&gt;Prince&lt;/a&gt;.&lt;/p&gt;</p>
</div>
<p></div></code></p>
</div>
<div class="section">
<h3 id="h_6">Resources</h3>
<ul>
	<li>Home Page: <a href="http://www.h3rald.com/glyph/">http://www.h3rald.com/glyph/</a></li>
	<li>Repository: <a href="http://www.github.com/h3rald/glyph/">http://www.github.com/h3rald/glyph/</a></li>
	<li>Bug Tracking: <a href="http://www.github.com/h3rald/glyph/issues">http://www.github.com/h3rald/glyph/issues</a></li>
	<li>Development Wiki <a href="http://wiki.github.com/h3rald/glyph">http://wiki.github.com/h3rald/glyph</a></li>
	<li>RubyGem Download <a href="http://www.rubygems.org/gems/glyph">http://www.rubygems.org/gems/glyph</a></li>
	<li>Book (<span class="caps">PDF</span>): <a href="http://github.com/h3rald/glyph/raw/0.2.0/book/output/pdf/glyph.pdf">http://github.com/h3rald/glyph/raw/0.2.0/book/output/pdf/glyph.pdf</a></li>
	<li>Reference Documentation: <a href="http://yardoc.org/docs/glyph/">http://yardoc.org/docs/glyph/</a></li>
	<li>User Group: <a href="http://groups.google.com/group/glyph-framework">http://groups.google.com/group/glyph-framework</a></li>
</ul>
</div>
				<div class="section">
<h3 id="h_7">License</h3>
<p>Copyright &#169; 2010 <b>Fabio Cevasco</b>, <a href="http://www.h3rald.com">http://www.h3rald.com</a></p>
<p><code>Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:</p>
<p>The above copyright notice and this permission notice shall be included in<br />
all copies or substantial portions of the Software.</p>
<p><span class="caps">THE</span> <span class="caps">SOFTWARE</span> IS <span class="caps">PROVIDED</span> &#8220;AS IS&#8221;, <span class="caps">WITHOUT</span> <span class="caps">WARRANTY</span> OF <span class="caps">ANY</span> <span class="caps">KIND</span>, <span class="caps">EXPRESS</span> OR<br />
<span class="caps">IMPLIED</span>, <span class="caps">INCLUDING</span> <span class="caps">BUT</span> <span class="caps">NOT</span> <span class="caps">LIMITED</span> TO <span class="caps">THE</span> <span class="caps">WARRANTIES</span> OF <span class="caps">MERCHANTABILITY</span>,<br />
<span class="caps">FITNESS</span> <span class="caps">FOR</span> A <span class="caps">PARTICULAR</span> <span class="caps">PURPOSE</span> <span class="caps">AND</span> <span class="caps">NONINFRINGEMENT</span>. IN NO <span class="caps">EVENT</span> <span class="caps">SHALL</span> <span class="caps">THE</span><br />
<span class="caps">AUTHORS</span> OR <span class="caps">COPYRIGHT</span> <span class="caps">HOLDERS</span> BE <span class="caps">LIABLE</span> <span class="caps">FOR</span> <span class="caps">ANY</span> <span class="caps">CLAIM</span>, <span class="caps">DAMAGES</span> OR <span class="caps">OTHER</span><br />
<span class="caps">LIABILITY</span>, <span class="caps">WHETHER</span> IN AN <span class="caps">ACTION</span> OF <span class="caps">CONTRACT</span>, <span class="caps">TORT</span> OR <span class="caps">OTHERWISE</span>, <span class="caps">ARISING</span> <span class="caps">FROM</span>,<br />
<span class="caps">OUT</span> OF OR IN <span class="caps">CONNECTION</span> <span class="caps">WITH</span> <span class="caps">THE</span> <span class="caps">SOFTWARE</span> OR <span class="caps">THE</span> <span class="caps">USE</span> OR <span class="caps">OTHER</span> <span class="caps">DEALINGS</span> IN<br />
<span class="caps">THE</span> <span class="caps">SOFTWARE</span>.</code></p>

</div>

</div>
			<div class="acknowledgement">
<h2 id="h_8">Acknowledgement</h2>
<p>Glyph was designed and developed by <a href="http://www.h3rald.com">Fabio Cevasco</a> (h3rald).</p>
<p>Special thanks to the following individuals who contributed to Glyph by reporting and fixing issues and/or proposing and implementing new features:</p>
<ul>
	<li><a href="http://www.jabbslad.com">Jamie Atkinson</a> (Jabbslad)</li>
	<li><a href="http://koraktor.github.com">Sebastian Staudt</a> (koraktor)</li>
</ul>

</div>

</div>
		<div class="bodymatter">
<div class="chapter">
<h2 id="h_9">Getting Started</h2>
<div class="section">
<h3 id="h_10">Creating your first Glyph Project</h3>
<p>To install Glyph, simply run <code>gem install glyph</code>, like with any other Ruby gem. Then, create a new directory and initialize a new Glyph project, like so:</p>
<p><code>mkdir</code> <em>test_document</em></p>
<p><code>cd</code> <em>test_document</em></p>
<p><code>glyph init</code></p>
<p>That&#8217;s it. You just created a new Glyph project in the <code>test_document</code> directory.</p>
<div class="box">
<div class="box-title">Glyph&#8217;s dependencies</div>
<p>Glyph requires the following gems:</p>
<ul>
	<li>extlib</li>
	<li>gli</li>
	<li>treetop</li>
	<li>rake</li>
</ul>
<p>Additionally, some Glyph macros may require additional gems, such as:</p>
<ul>
	<li>RedCloth (<a href="#m_textile">#textile</a> macro)</li>
	<li>BlueCloth <em>or</em> RDiscount <em>or</em> Maruku <em>or</em> Kramdown (<a href="#m_markdown">#markdown</a> macro)</li>
	<li>Haml (if you want to load .sass files with the <a href="#m_style">#style</a> macro)</li>
</ul>
</div>
<p>Every Glyph project is comprised of the following directories:</p>
<ul>
	<li><code>images/</code> &#8212; used to store the image files used in your document.</li>
	<li><code>lib/</code> &#8212; used to store your custom Glyph macros and Rake tasks.</li>
	<li><code>output/</code> &#8212; used to store your generated output files.</li>
	<li><code>styles/</code> &#8212; used to store your stylesheets.</li>
	<li><code>text/*</code> &#8212; used to store your source text files.</li>
</ul>
<p>Additionally, the following files are also created at top level:</p>
<ul>
	<li><code>config.yml</code> &#8212; containing your <a href="#cfg">Project Configuration</a>.</li>
	<li><code>document.glyph</code> &#8212; containing your <a href="#struct">Document Structure</a></li>
	<li><code>snippets.yml</code> &#8212; containing your text <a href="#incl">snippets</a>.</li>
</ul>
</div>
<div class="section">
<h3 id="struct">Document Structure</h3>
<p>Every Glyph project contains a <code>document.glyph</code> file that is typically used to define the document structure. The default <code>document.glyph</code> generated automatically when creating a new project is the following:</p>
<code>document[
  head[style[default.css]]
  body[
    titlepage[
      title[]
      author[]
      pubdate[]
    ]
    frontmatter[
      toc[]
      preface[@title[Preface]
        include[preface.textile]
      ]
    ]
    bodymatter[  
      chapter[@title[Chapter #1]
        include[chapter_1.textile]
      ]
      chapter[@title[Chapter #2]
        include[chapter_2.textile]
      ]
    ]
    backmatter[
      appendix[@title[Appendix A]
        include[appendix_a.textile]
      ]
    ]
  ]
]</code>
<p>Even without knowing anything about Glyph Language, you can easily figure out that this file defines a document with a Table of Contents, a Preface and some Chapters. <code>frontmatter[]</code>, <code>preface[]</code>, <code>chapter[]</code>, etc. are all Glyph <em>macros</em> used to define &#8212; in this case &#8212; some structural elements. In practice, this means that if you plan to generate an <span class="caps">HTML</span> document, they&#8217;ll be converted into <code>&lt;div&gt;</code> tags.</p>
<p>Be aware that other macros, on the other hand, are used to do something completely different, e.g.:</p>
<ul>
	<li><code>toc[]</code> generates the document&#8217;s Table of Contents</li>
	<li><codeph>@[]&lt;/codeph&gt; or its alias @include[]@ is used to copy the contents of another file stored anywhere in the @text/@ directory.</li>
</ul>
<p>Let&#8217;s now analyze this <code>document.glyph</code> more in detail.</p>
<ul>
	<li>The <code>document[]</code> macro wraps every other macro. This is necessary to create the initial <code>&lt;html&gt;</code> tag.</li>
	<li>Similarly, <code>head[]</code> and <code>body[]</code> are used to generate the respective <span class="caps">HTML</span> tags. Actually, <code>head[]</code> already sets some metadata for you, by default (author and copyright).</li>
	<li>Within <code>head[]</code>, the <code>style[]</code> macro is used to load the <code>default.css</code> stylesheet, which is one of the <a href="#default_styles">default Glyph styleseets</a>.</li>
	<li>Immediately after the <code>body[]</code> macro, the <code>titlepage[]</code> macro is used to define (guess&#8230;) the first page of your document. <code>title[]</code>, <code>author[]</code>  and <code>pubdate[]</code> insert the title of the document, its author and the publication date (retrieved from the project&#8217;s <a href="#cfg">configuration settings</a>).</li>
	<li>Then, the <code>frontmatter[]</code>, <code>bodymatter[]</code> and <code>backmatter[]</code> macros are used to further divide the portions of your document according to the rules of <a href="http://en.wikipedia.org/wiki/Book_design">book design</a>. They are not mandatory, but they can be used, for example, to number your appendixes with letters instead of numbers and similar.</li>
	<li><code>preface[]</code>, <code>chapter[]</code>, <code>appendix[]</code> are just a way to wrap content in <code>&lt;div&gt;</code> tags, from an <span class="caps">HTML</span> point of view, but they are also necessary to nest the content of your document and generate the Table of Contents automatically, together with the <code>header[]</code> macro.</li>
</ul>
</div>
<div class="section">
<h3 id="cfg">Project Configuration</h3>
<p>Glyph stores configuration settings in the following <span class="caps">YAML</span> files:</p>
<ol>
	<li>Your <em>Project Configuration</em> is stored in the <code>config.yml</code> file, included in each Glyph Project.</li>
	<li>Your <em>Global Configuration</em> is stored in a <code>.glyphrc</code> file in your $<span class="caps">HOME</span> (or %HOMEPATH% on Windows) directory (not created by default).</li>
	<li>The <em>System Configuration</em> is stored in the source directory of Glyph itself.</li>
</ol>
<p>When compiling, Glyph loads all these configuration files and merges them according to the following rules:</p>
<ul>
	<li>A setting configured in the <em>Project Configuration</em> overrides the same setting in both Global and System configuration.</li>
	<li>A setting configured in the <em>Global Configuration</em> overrides the same setting in the <em>System Configuration</em></li>
</ul>
<p>Typically, you should use the <em>Project Configuration</em> for all project-specific settings and the <em>Global Configuration</em> for settings affecting all your projects (for example, you may want to set the <a href="#s_document_author">document.author</a> setting in the Global Configuration instead of setting it in the Project Configuration of all your Glyph projects). The <em>System Configuration</em> is best left untouched.</p>
<p>Instead of editing your configuration settings directly, you can use the <a href="#c_config">config</a> command, as follows:</p>
<p><code>glyph config</code> <em>setting</em> <em>[value]</em></p>
<p>If no <em>value</em> is specified, glyph just prints the value of the configuration setting, so typing <code>glyph config document.author</code> right after creating a project (assuming you didn&#8217;t set this in the Global Configuration) will print nothing, because this setting is blank by default.</p>
<p>To change the value of a configuration setting, specify a value right after the setting, like this:</p>
<p><code>glyph config document.author "John Smith"</code></p>
<div class="tip">
<p><span class="note-title">Tip</span>It is also possible to change configuration settings inside your document, using the <a href="#m_config_">#config:</a> macro.</p>
</div>
<p>In this way, the document author will be set to <em>John Smith</em> for the current project. To save this setting globally, add a <code>-g</code> option, like this:</p>
<p><code>glyph config -g document.author "John Smith"</code></p>
<div class="box">
<div class="box-title">Regarding configuration values and data types&#8230;</div>
<p>Glyph attempts to &#8220;guess&#8221; the data type of a configuration values by evaluation (<code>Kernel#instance_eval</code>) if the value:</p>
<ul>
	<li>is wrapped in quotes (<code>"</code> or <code>'</code>) &rarr; <code>String</code></li>
	<li>starts with a colon (<code>:</code>) &rarr; <code>Symbol</code></li>
	<li>is wrapped in square brackets (<code>[</code> and <code>]</code>) &rarr; <code>Array</code></li>
	<li>is wrapped in curly brackets (<code>{</code> and <code>}</code>) &rarr; <code>Hash</code></li>
	<li>is <em>true</em> or <em>false</em> &rarr; <code>Boolean</code></li>
	<li>is <em>nil</em> &rarr; <code>NilClass</code></li>
</ul>
<p>Note that this guessing is far from being foolproof: If you type something like <em>{:test, 2}</em>, for example, you&#8217;ll get an error.</p>
</div>
<p>There are plenty of configuration settings that can be modified, but most of them are best if left alone (and in the System Configuration file).</p>
<p>For a complete reference, see <a href="#cfg_ref">Configuration Reference</a>. Normally, you may just want to change the following ones:</p>
<table><tr><th>Setting</th>
		<th>Description</th></tr>
	<tr><th><code>document.author</code></th>
		<td>The author of the document</td></tr>
	<tr><th><code>document.title</code></th>
		<td>The title of the document</td></tr>
	<tr><th><code>document.filename</code></th>
		<td>The document file name</td><p></tr></table></p>
</div>

</div>
			<div class="chapter">
<h2 id="h_13">Authoring Documents</h2>
<p>﻿<br />
<div class="section"><br />
<h3 id="h_14">Text Editing</h3><br />
One of the main purposes of Glyph is streamlining text editing. Glyph accomplishes this through its own macro language that can be used in conjunction with Textile or Markdown.</p>
<div class="section">
<h4 id="h_15">Introducing Glyph Macros</h4>
<p>By now you probably figured out what a macro looks like: it&#8217;s an identifier of some kind that wraps a value or parameters within square brackets. More specifically:</p>
<ul>
	<li>The macro identifier can contain <em>any</em> character except for: <code>[</code>, <code>]</code>, <code>\</code>, <code>|</code> or spaces.</li>
	<li>The delimiters can be either <code>[</code> and <code>]</code> or <code>[=</code> and <code>=]</code> (<span class="fmi">for more information on differences between delimiters, see <a href="#esc_quot">Escaping and Quoting</a></span>).</li>
	<li>The value can be anything, even other macros. If a macro supports more than one parameter, they must be separated with <code>|</code>. For example, the <a href="#m_link">#link</a> macro can take an optional second parameter for the link text: <code>link[#link_id|This is the link text]</code>.</li>
</ul>
<p>A macro can often have one or more aliases. For example, <code>=&gt;</code> is an alias for the <a href="#m_link">#link</a> macro, so the following macro calls are equivalent:</p>
<p><code>=&gt;[#test|Test Section]</code><br />
<code>link[#test|Test Section]</code></p>
</div>
<div class="section">
<h4 id="esc_quot">Escaping and Quoting</h4>
<p>Glyph doesn&#8217;t require any special control characters like LaTeX, and its macro syntax is very straightforward and liberal. This however comes with a price: because square brackets are used as delimiters, you must escape any square bracket in your text with a backslash. That&#8217;s not <em>too</em> bad if you think about it, unless you&#8217;re writing programming code, in which case escaping every single square bracket can be painful.</p>
<p>If a portion of your text contains an excessive amount of square brackets, you may consider using the <a href="#m_escape">#escape</a> macro (or its alias <code>.</code>) with the <code>[=</code> and <code>=]</code> delimiters. By itself, the escape macro doesn&#8217;t do anything: it just evaluates to its contents, but the special delimiters act as an escape for any square bracket within them. As a consequence, any macro within <code>[=</code> and <code>=]</code> will <em>not</em> be evaluated.</p>
<p>You can use the quoting delimiters with <em>any</em> macro identifier. Obviously, using them as delimiters for things like <a href="#m_section">#section</a> macros may not be a good idea, but they should be more or less mandatory with the <a href="#m_code">#code</a> macro, like this:</p>
<div class="code">
<pre>
<code>
code[=
section[@title[A section]

This is a section.

  section[@title[A nested section]
This is another section.
  ]
]
=]
</code>
</pre>
</div>
<div class="note">
<p><span class="note-title">Note</span>Although quoting delimiters allow you to use square brackets without escaping them, you must still escape them if you want to escape quoting delimiters themselves.</p>
</div>
<p>Besides square brackets, there are other characters that must or can be escaped with backslashes, as shown in the following table</p>
<table><tr><th>Escape Sequence</th>
    <th>Evaluates to&#8230;</th>
    <th>Notes</th></tr>
  <tr><td><code>[</code></td>
    <td><code>[</code></td>
    <td>Square brackets must be escaped unless used as macro delimiters or within a quoting macro.</td></tr>
  <tr><td><code>]</code></td>
    <td><code>]</code></td>
    <td>Square brackets must be escaped unless used as macro delimiters or within a quoting macro.</td></tr>
  <tr><td><code>\\</code></td>
    <td><code>\</code></td>
    <td>Backslashes do not have to be escaped by default, but an escaped backslash will evaluate to itself.</td></tr>
  <tr><td><code>\=</code></td>
    <td><code>=</code></td>
    <td>Equal signs do not have to be escaped by default, but an escaped equal sign will evaluate to iself.</td></tr>
  <tr><td><code>|</code></td>
    <td><code>|</code></td>
    <td>Pipes must be escaped (even within quoting macros) unless they are used to separate macro parameters.</td></tr>
  <tr><td><code>\.</code></td>
    <td>&nbsp;</td>
    <td>An escaped dot evaluates to nothing. Useful to separate macro identifiers from other characters:<br />
<code>_\.=&gt;[#link|This link is emphasized using Textile]_</code></td><p></tr></table></p>
</div>
<div class="section">
<h4 id="sec_head">Sections and Headers</h4>
<p>Glyph documents are normally organized as a hierarchical tree of nested chapters, appendixes, sections, etc. To define a section, use the <a href="#m_section">#section</a> macro, like so:</p>
<div class="code">
<pre>
<code>
section[
  @title[Section #1]

Write the section contents here...

  section[
    @title[Section #2]

This section is nested into the previous one.

  ] --[End of Section #2]
] --[End of Section #1]
</code>
</pre>
</div>
<p>This example defines two nested sections, each with its own header. The header is <em>mandatory</em>: it will be displayed at the start of the section and in the Table of Contents.</p>
<p>Note an important difference from <span class="caps">HTML</span>: there is no explicit level for the headers, as it will be determined at runtime when the document is compiled, based on how sections are nested. The previous code snippet (taken as it is), for example, will be transformed into the following <span class="caps">HTML</span> code:</p>
<pre class="blackboard"><span class="MetaTag"><span class="MetaTag">&lt;</span><span class="MetaTag">div</span> <span class="MetaTag">class</span>=<span class="String"><span class="String">&quot;</span>section<span class="String">&quot;</span></span><span class="MetaTag">&gt;</span></span>
  <span class="MetaTag"><span class="MetaTag">&lt;</span><span class="MetaTag">h2</span><span class="MetaTag">&gt;</span></span>Section #1<span class="MetaTag"><span class="MetaTag">&lt;/</span><span class="MetaTag">h2</span><span class="MetaTag">&gt;</span></span>
  <span class="MetaTag"><span class="MetaTag">&lt;</span><span class="MetaTag">p</span><span class="MetaTag">&gt;</span></span>Write the section contents here...<span class="MetaTag"><span class="MetaTag">&lt;/</span><span class="MetaTag">p</span><span class="MetaTag">&gt;</span></span>
  <span class="MetaTag"><span class="MetaTag">&lt;</span><span class="MetaTag">div</span> <span class="MetaTag">class</span>=<span class="String"><span class="String">&quot;</span>section<span class="String">&quot;</span></span><span class="MetaTag">&gt;</span></span>
    <span class="MetaTag"><span class="MetaTag">&lt;</span><span class="MetaTag">h3</span><span class="MetaTag">&gt;</span></span>Section #2<span class="MetaTag"><span class="MetaTag">&lt;/</span><span class="MetaTag">h3</span><span class="MetaTag">&gt;</span></span>
    <span class="MetaTag"><span class="MetaTag">&lt;</span><span class="MetaTag">p</span><span class="MetaTag">&gt;</span></span>This section is nested in the previous one<span class="MetaTag"><span class="MetaTag">&lt;/</span><span class="MetaTag">p</span><span class="MetaTag">&gt;</span></span>
  <span class="MetaTag"><span class="MetaTag">&lt;/</span><span class="MetaTag">div</span><span class="MetaTag">&gt;</span></span>
<span class="MetaTag"><span class="MetaTag">&lt;/</span><span class="MetaTag">div</span><span class="MetaTag">&gt;</span></span>
</pre>
<p>By default, in Glyph the first header level is <em>2</em>, so the two headers are rendered as <code>h2</code> and <code>h3</code>, respectively (<code>--[...]</code> macros are <em>comments</em>, therefore they are not included in the final output).</p>
<p>There are <em>a lot</em> of macros that can be used in the same way as <code>section</code>, one for each element commonly used in <a href="http://en.wikipedia.org/wiki/Book_design">Book Design</a>. Each one of them is a simple wrapper for a <code>&lt;div&gt;</code> tag with a <code>class</code> attribute set to its name.</p>
<p>The following table lists the identifiers of all section-like macros, divided according to the part of the book they should be placed in:</p>
<table><tr><td><strong>Frontmatter</strong></td>
    <td><code>imprint</code> <sup>†</sup>, <code>dedication</code> <sup>†</sup>, <code>inspiration</code> <sup>†</sup>, <code>foreword</code> <sup>‡</sup>, <code>introduction</code> <sup>‡</sup>, <code>acknowledgement</code> <sup>‡</sup>, <code>prologue</code> <sup>‡</sup>, <code>toc</code> <sup>*</sup></td></tr>
  <tr><td><strong>Bodymatter</strong></td>
    <td><code>volume</code>, <code>book</code>, <code>part</code>, <code>chapter</code></td></tr>
  <tr><td><strong>Backmatter</strong></td>
    <td><code>epilogue</code> <sup>‡</sup>, <code>afterword</code> <sup>‡</sup>, <code>postscript</code> <sup>†</sup>, <code>appendix</code>, <code>addendum</code> <sup>‡</sup>, <code>glossary</code> <sup>**‡</sup>, <code>colophon</code> <sup>†</sup>, <code>bibliography</code> <sup>**‡</sup>, <code>promotion</code> <sup>†</sup>, <code>references</code> <sup>**‡</sup>, <code>index</code> <sup>**‡</sup>, <code>lot</code> <sup>**‡</sup>, <code>lof</code> <sup>**‡</sup></td><p></tr></table></p>
<p>*: The <a href="#m_toc">#toc</a> macro is used to generate the Table of Contents automatically, and it must be used with no contents (i.e.: <code>toc[]</code>).</p>
<p>**: This macro is likely to be extended in future versions to generate/aggregate content automatically.</p>
<p>†: This section is not listed in the Table of Contents.</p>
<p>‡: Any subsection of this section is not listed in the Table of Contents.</p>
<div class="note">
<p><span class="note-title">Note</span><code>frontmatter</code>, <code>bodymatter</code> and <code>backmatter</code> are also valid (and mandatory!) macro identifiers, typically already included in the default <code>document.glyph</code> file of every project.</p>
</div>
</div>
<div class="section">
<h4 id="incl">Including Files and Snippets</h4>
<p>If you&#8217;re authoring a user manual, a long article or a book, writing everything inside a single file (<code>document.glyph</code>) may not be optimal. For this reason, Glyph provides an <a href="#m_include">#include</a> macro (aliased by <code>@</code>) that can be used to include the contents of any file within the <code>text/</code> directory:</p>
<p><code>include[introduction.textile]</code></p>
<p>The macro call above loads the contents of the <code>introduction.textile</code> file, that can be stored <em>anywhere</em> within the <code>text/</code> directory.</p>
<div class="note">
<p><span class="note-title">Note</span>Unlike with <a href="img_fig">image and figures</a> that must be included with their <em>relative</em> path to the <code>images/</code> folder, you must not specify a relative path when including text files. This is due to the fact that images are copied <em>as they are</em> in the <code>output/&lt;format&gt;/images/</code> directory and they have to be linked from the output file.</p>
<p>A possible downside of this behavior is that file names must be unique within the entire <code>text/</code> directory and any of its subdirectories</p>
</div>
<p>When including a text file, an input filter macro is applied to its contents by default, based on the file extension used:</p>
<ul>
	<li><code>.textile</code> &rarr; <a href="#m_textile">#textile</a> macro</li>
	<li><code>.markdown</code> or <code>.md</code> &rarr; <a href="#m_markdown">#markdown</a> macro</li>
</ul>
<div class="tip">
<p><span class="note-title">Tip</span>You can override this behavior by setting the <code>filters.by_file_extensions</code> configuration setting to <code>false</code>, like this:</p>
<p><code>glyph config filters.by_file_extensions false</code></p>
</div>
<p>While including the context of an entire file is definitely a useful feature for content reuse, sometimes it can be an overkill. What if, for example, you just want to reuse a short procedure or even a sentence? In this case, you may want to consider using a <em>snippet</em> instead.</p>
<p>Snippets are text strings saved in <span class="caps">YAML</span> format in the <code>snippets.yml</code> file. They can be included anywhere in your document using the <a href="#m_snippet">#snippet</a> macro (or its alias <code>&amp;</code>).</p>
<div class="tip">
<p><span class="note-title">Tip</span>Besides storing snippets in the <code>snippets.yml</code> file, you can also define them right in your document, using the <a href="#m_snippet_">#snippet:</a> macro.</p>
</div>
<div class="box">
<div class="box-title">Example</div>
<p>Consider the following <code>snippets.yml</code> file:</p>
<pre class="blackboard"><span class="Keyword">-</span><span class="Keyword">-</span><span class="Keyword">-</span><span class="InvalidDeprecated"> </span>
:<span class="String"><span class="Entity">glang<span class="Entity">:</span></span> <span class="String">Glyph Language</span></span>
:<span class="String"><span class="Entity">macros<span class="Entity">:</span></span> <span class="String">Glyph Macros</span></span>
:<span class="MetaTag"><span class="MetaTag">sq_esc</span><span class="MetaTag">:</span> </span>|<span class="Keyword">-</span>
  Square brackets must be escaped<span class="InvalidDeprecated"> </span>
  unless used as macro delimiters or within a quoting macro.
:<span class="String"><span class="Entity">markups<span class="Entity">:</span></span> <span class="String">Textile or Markdown</span></span>
:<span class="MetaTag"><span class="MetaTag">test</span><span class="MetaTag">:</span> </span>|<span class="Keyword">-</span>
  This is a<span class="InvalidDeprecated"> </span>
  Test snippet
</pre>
<p>You can use <code>&amp;[markups]</code> anywhere in your document instead of having to type &#8220;Textile or Markdown&#8221; every time. Additionally, later on you can change the value of the <code>markups</code> snippets only in the <code>snippets.yml</code> file to change it everywhere else in the document.</p>
</div>
<div class="tip">
<p><span class="note-title">Tip</span>Snippets (or any other macro) can be nested within other snippets. Glyph takes care of checking if you nested snippets or macros mutually and warns you as necessary.</p>
</div>
</div>
<div class="section">
<h4 id="links">Links and Bookmarks</h4>
<p>Lightweight markups let you create internal and external links in a very easy way, and you can still do so in Glyph. However, if you do so:</p>
<ul>
	<li>There is no built-in way to check if they are valid</li>
	<li>There is no built-in way to determine the title of a link automatically</li>
</ul>
<p>If you care about link validation and you want to save some keystrokes, then you should use the following markup-agnostic macros:</p>
<ul>
	<li><code>link</code> (aliased to <code>=&gt;</code>) &#8212; to create internal and external links.</li>
	<li><code>anchor</code> (aliased to <code>#</code>) &#8212; to create named anchors (bookmarks) within your document.</li>
</ul>
<div class="box">
<div class="box-title">Example</div>
<p>The following Glyph code:</p>
<div class="code">
<pre>
<code>
This is a link to link[#test].

...

This is link[#wrong].

This is a #[test|test anchor].
</code>
</pre>
</div>
<p>Is translated into the following <span class="caps">HTML</span> code:</p>
<pre class="blackboard"><span class="MetaTag"><span class="MetaTag">&lt;</span><span class="MetaTag">p</span><span class="MetaTag">&gt;</span></span>This is a link to <span class="MetaTag"><span class="MetaTag">&lt;</span><span class="MetaTag">a</span> <span class="MetaTag">href</span>=<span class="String"><span class="String">&quot;</span>#test<span class="String">&quot;</span></span><span class="MetaTag">&gt;</span></span>test anchor<span class="MetaTag"><span class="MetaTag">&lt;/</span><span class="MetaTag">a</span><span class="MetaTag">&gt;</span></span>.<span class="MetaTag"><span class="MetaTag">&lt;/</span><span class="MetaTag">p</span><span class="MetaTag">&gt;</span></span>
<span class="MetaTag"><span class="MetaTag">&lt;</span><span class="MetaTag">p</span><span class="MetaTag">&gt;</span></span>...<span class="MetaTag"><span class="MetaTag">&lt;/</span><span class="MetaTag">p</span><span class="MetaTag">&gt;</span></span>
<span class="MetaTag"><span class="MetaTag">&lt;</span><span class="MetaTag">p</span><span class="MetaTag">&gt;</span></span>This is <span class="MetaTag"><span class="MetaTag">&lt;</span><span class="MetaTag">a</span> <span class="MetaTag">href</span>=<span class="String"><span class="String">&quot;</span>#wrong<span class="String">&quot;</span></span><span class="MetaTag">&gt;</span></span>#wrong<span class="MetaTag"><span class="MetaTag">&lt;/</span><span class="MetaTag">a</span><span class="MetaTag">&gt;</span></span>.<span class="MetaTag"><span class="MetaTag">&lt;/</span><span class="MetaTag">p</span><span class="MetaTag">&gt;</span></span>
<span class="MetaTag"><span class="MetaTag">&lt;</span><span class="MetaTag">p</span><span class="MetaTag">&gt;</span></span>This is a <span class="MetaTag"><span class="MetaTag">&lt;</span><span class="MetaTag">a</span> <span class="MetaTag"><span class="MetaTag">id</span><span class="MetaTag">=</span><span class="String"><span class="String">&quot;</span><span class="String">test</span><span class="String">&quot;</span></span></span><span class="MetaTag">&gt;</span></span>test anchor<span class="MetaTag"><span class="MetaTag">&lt;/</span><span class="MetaTag">a</span><span class="MetaTag">&gt;</span></span>.<span class="MetaTag"><span class="MetaTag">&lt;/</span><span class="MetaTag">p</span><span class="MetaTag">&gt;</span></span>
</pre>
<p>Additionally, the following warning message is displayed when <a href="#compile">compiling</a>:</p>

<div class="code">
<pre>
<code>
warning: Bookmark 'wrong' does not exist
 -> source: @: aurhoting.textile
 -> path: document/body/bodymatter/chapter/@/textile/section/section/box/link
</code>
</pre>
</div>
</div>
<p>Basically, if you use the <a href="#m_link">#link</a> macro and the <a href="#m_anchor">#anchor</a> macro, Glyph makes sure that:</p>
<ul>
	<li>All links point to valid anchors within the document (regardless if the anchors are before or after the link, in snippets or included files).</li>
	<li>There are no duplicate anchors within the documents.</li>
	<li>If no title is specified as second parameter for the <a href="#m_link">#link</a> macro, the anchor&#8217;s title is used as such.</li>
</ul>
<p>Besides using the <a href="#m_anchor">#anchor</a> macro macro, you can also create an anchor for a header by passing an extra parameter to the <a href="#m_header">#header</a> macro, like this: <code>header[Header Title|my_anchor]</code>.</p>
<div class="note">
<p><span class="note-title">Note</span>At present, link validation and automatic title retrieval only works with internal links (i.e. the check occurs if the first parameter of the <a href="#m_link">#link</a> macro starts with a <code>#</code>). In the future, the macro could be extended to support external links as well.</p>
</div>
</div>
<div class="section">
<h4 id="h_20">Evaluating Ruby code and Configuration Settings</h4>
<p>Glyph Language is not a full-blown programming language, as it does not provide control flow or variables, for example. <br />
However, it is possible to evaluate simple ruby code snippets using the <code>ruby</code> macro (aliased to <code>%</code>), like this:</p>
<ul>
	<li><code>%[2 + 2]</code> &rarr; 4</li>
	<li><code>%[Time.now]</code> &rarr; Sun May 30 18:57:25 +0200 2010</li>
	<li><code>%[Glyph::VERSION]</code> &rarr; 0.2.0</li>
</ul>
<p>The scope for the code evaluation is the Kernel module, (with all inclusions required by Glyph itself).</p>
<p>Although it is possible to retrieve Glyph configuration settings in this way (e.g. <code>%[cfg('document.author')]</code>), the <a href="#m_config">#config</a> macro (aliased to <code>$</code>) makes things slightly simpler (e.g. <code>$[document.author]</code>).</p>
</div>
<div class="section">
<h4 id="cond_macros">Conditional Macros</h4>
<p>Sometimes you may want text to be included in a document only if certain conditions are satisfied. For example, you may want to display a disclaimer section only if the document is a draft (see <a href="#s_document_draft">document.draft</a> setting), or use a particular stylesheet only if when you generate a <span class="caps">PDF</span> document.</p>
<p>To do so, you can use the <a href="#m_condition">#condition</a> macro (aliased by <code>?</code>), and a set of additional macros that can be used as conditional operators i.e.:</p>
<ul>
	<li><a href="#m_eq">#eq</a> macro</li>
	<li><a href="#m_not">#not</a> macro</li>
	<li><a href="#m_and">#and</a> macro</li>
	<li><a href="#m_or">#or</a> macro</li>
	<li><a href="#m_match">#match</a> macro</li>
</ul>
<p>Consider the following code:</p>
<div class="code">
<pre>
<code>
?[$[document.draft]|
This is a first draft of the Glyph Book]
?[not[$[document.draft]]|
This is the official version of the Glyph Book]
</code>
</pre>
</div>
<p>In this case, if <code>document.draft</code> is set to <code>true</code>, &#8220;This is a first draft of the Glyph Book&#8221; will be displayed; if not, &#8220;This is the official version of the Glyph Book&#8221; will be displayed instead.</p>
<p>The <a href="#m_condition">#condition</a> macro takes two parameters:</p>
<ul>
	<li>the first one is the condition to evaluate</li>
	<li>the second one is the text to include in the document only if the condition is satisfied.</li>
</ul>
<p>Note that <em>both</em> parameters can contain macros, of course, so you can write things like:</p>
<div class="code">
<pre>
<code>
?[and[
    eq[$[document.output]|pdf]
    |
    eq[$[tools.pdf_generator]|prince]
    ]
  |
  style[pagination.css]]
</code>
</pre>
</div>
<p>In this case, the <code>pagination.css</code> stylesheet is included only when you&#8217;re generating a <span class="caps">PDF</span> document using Prince <span class="caps">XML</span>.</p>
<div class="section">
<h5 id="h_22">Using macros inside the condition macro</h5>
<p>Conditionals are not implemented at parser level. This means that macros specified as the second parameter of a <a href="#m_condition">#condition</a> macro are <em>always</em> parsed and <em>executed</em>, even <em>before</em> that the condition is evaluated! Besides being inefficient, this can also lead to dangerous results if you&#8217;re the <a href="#m_config_">#config:</a> macro or the <a href="#m_ruby">#ruby</a> macro, for example: because in that case a configuration setting or a piece of Ruby code is always executed&#8230;</p>
<p>To avoid this potentially dangerous side effect, you can <em><a href="#m_encode">encode</a></em> the second parameter of the condition macro, like this:</p>
<div class="code">
<pre>
<code>
?[$[document.draft]|
*[= $:[document.output|html] =]]
</code>
</pre>
</div>
<p>If you do so, if the condition is satisfied, the condition macro decodes the second parameter and interprets its contents. In this way, if <code>document.draft</code> is true, <code>document.output</code> will be set to <code>html</code>, otherwise it will be left unchanged.</p>
</div>
<div class="section">
<h5 id="h_23">Results of conditional expressions</h5>
<p>The <a href="#m_condition">#condition</a> macro in Glyph works in a similar way as conditionals in programming languages: if the conditional expression (supplied as first parameter) is satisfied then the second parameter is executed or displayed. But when is a conditional expression satisfied? Glyph is a simple mini-language to perform text manipulation, and has no types, it can only understand text, therefore:</p>
<ul>
	<li>A conditional expression is satisfied if it evaluates to a non-empty string except &#8220;false&#8221;.</li>
	<li>A conditional expression is not satisfied if it evaluates to an empty string or the string &#8220;false&#8221;.</li>
</ul>
</div>
</div>
<div class="section">
<h4 id="img_fig">Images and Figures</h4>
<p>Same as for <a href="#links">links</a>, you can also include images and figures using Textile or Markdown. If you want additional features, you can use the <a href="#m_img">#img</a> macro and the <a href="#m_fig">#fig</a> macro, as shown in the following example:</p>
<div class="box">
<div class="box-title">Example</div>
<p>The following Glyph code:</p>
<div class="code">
<pre>
<code>
img[glyph.svg|20%|20%]

fig[example.png|An example figure.]
</code>
</pre>
</div>
<p>Is translated into the following <span class="caps">HTML</span> code:</p>
<pre class="blackboard"><span class="MetaTag"><span class="MetaTag">&lt;</span><span class="MetaTag">img</span> <span class="MetaTag">src</span>=<span class="String"><span class="String">&quot;</span>images/glyph.svg<span class="String">&quot;</span></span> <span class="MetaTag">width</span>=<span class="String"><span class="String">&quot;</span>20%<span class="String">&quot;</span></span> <span class="MetaTag">height</span>=<span class="String"><span class="String">&quot;</span>20%<span class="String">&quot;</span></span> <span class="MetaTag">alt</span>=<span class="String"><span class="String">&quot;</span>-<span class="String">&quot;</span></span> /<span class="MetaTag">&gt;</span></span>

<span class="MetaTag"><span class="MetaTag">&lt;</span><span class="MetaTag">div</span> <span class="MetaTag">class</span>=<span class="String"><span class="String">&quot;</span>figure<span class="String">&quot;</span></span><span class="MetaTag">&gt;</span></span>
  <span class="MetaTag"><span class="MetaTag">&lt;</span><span class="MetaTag">img</span> <span class="MetaTag">src</span>=<span class="String"><span class="String">&quot;</span>images/example.png<span class="String">&quot;</span></span> <span class="MetaTag">alt</span>=<span class="String"><span class="String">&quot;</span>-<span class="String">&quot;</span></span>/<span class="MetaTag">&gt;</span></span>
  <span class="MetaTag"><span class="MetaTag">&lt;</span><span class="MetaTag">div</span> <span class="MetaTag">class</span>=<span class="String"><span class="String">&quot;</span>caption<span class="String">&quot;</span></span><span class="MetaTag">&gt;</span></span>An example figure.<span class="MetaTag"><span class="MetaTag">&lt;/</span><span class="MetaTag">div</span><span class="MetaTag">&gt;</span></span>
<span class="MetaTag"><span class="MetaTag">&lt;/</span><span class="MetaTag">div</span><span class="MetaTag">&gt;</span></span>
</pre>
</div>
<div class="note">
<p><span class="note-title">Note</span>In future releases, figures will be numbered automatically and included in a <em>List of Figures</em> section.</p>
</div>
</div>
<div class="section">
<h4 id="source_code">Source code</h4>
<p>If you&#8217;re a programmer, chances are that you&#8217;re going to include some source code in your articles and books. Glyph providers different ways to format source code, as described in the following sections.</p>
<div class="section">
<h5 id="h_26">Inline code</h5>
<p>The <a href="#m_code">#code</a> macro can be used to format inline code. That&#8217;s exactly the same as using <code>&lt;code&gt;</code> tags, just remember to use <a href="#esc_quot">escaping delimiters</a> and to escape pipes.</p>
</div>
<div class="section">
<h5 id="h_27">Code block</h5>
<p>For code blocks, you have two choices: the <a href="#m_code">#code</a> macro, which simply wraps text into <code>&lt;pre&gt;</code> and <code>&lt;code&gt;</code> tags, or the <a href="#m_highlight">#highlight</a> macro macro. The last one requires either <a href="http://coderay.rubychan.de/">Coderay</a> or <a href="http://ultraviolet.rubyforge.org/">Ultraviolet</a>, but it highlights the most common programming language.</p>
<p>Cosider the following piece of ruby code:</p>
<div class="code">
<pre>
<code>
def find_child(&amp;block)
    children.each do |c|
      c.descend do |node, level|
        return node if block.call(node)
      end
    end
    nil
  end
</code>
</pre>
</div>
<p>It can be wrapped in a highlight macro, like so:</p>
<div class="code">
<pre>
<code>
highlight[=ruby|
  def find_child(&amp;block)
    children.each do \|c\|
      c.descend do \|node, level\|
        return node if block.call(node)
      end
    end
    nil
  end
=]
</code>
</pre>
</div>
<p>&#8230;to produce the following, using the ultraviolet highlighter:</p>
<pre class="blackboard"><span class="Keyword">def</span> <span class="Entity">find_child</span>(<span class="Variable"><span class="Keyword">&amp;</span>block</span>)
    children.<span class="Entity">each</span> <span class="Keyword">do </span>|<span class="Variable">c</span>|
      c.<span class="Entity">descend</span> <span class="Keyword">do </span>|<span class="Variable">node</span>, <span class="Variable">level</span>|
        <span class="Keyword">return</span> node <span class="Keyword">if</span> block.<span class="Entity">call</span>(node)
      <span class="Keyword">end</span>
    <span class="Keyword">end</span>
    <span class="Constant">nil</span>
  <span class="Keyword">end</span>
</pre>
<div class="box">
<div class="box-title">Some Remarks</div>
<ul>
	<li>Highlighters require some configuration. For more information on relevant configuration settings, see the <code>highlighters.*</code> configuration settings.</li>
	<li>If you&#8217;re using the <a href="#m_highlight">#highlight</a> macro together with <a href="#m_textile">#textile</a> macro, you must wrap the macro call within <code>&lt;notextile&gt;</code> tags.</li>
	<li>You must always escape pipes (<code>|</code>) with the code or the highlight macro.</li>
</ul>
</div>
</div>
</div>
</div>
<div class="section">
<h3 id="compile">Compiling your project</h3>
<p>By default, a Glyph project can be <em>compiled</em> into an <span class="caps">HTML</span> document. Additionally, Glyph can also be used to produce <span class="caps">PDF</span> documents through <a href="http://www.princexml.com/">Prince</a>, and in future releases more formats could be supported.</p>
<div class="section">
<h4 id="stylesheets">Adding Stylesheets</h4>
<p>Currently, Glyph does not provide any native way to format text and pages. The reason is that there&#8217;s absolutely no need for that: <span class="caps">CSS</span> does the job just fine. In particular, CSS3 offers specific attributes and elements that can be used specifically for paginated documents. That&#8217;s no replacement for LaTeX by any means, but it is enough if you&#8217;re not looking for advanced typographical features.</p>
<p>You can embed <span class="caps">CSS</span> files using the <a href="#m_style">#style</a> macro, like this:</p>
<p><code>style[default.css]</code></p>
<p>In this case, the <a href="#m_style">#style</a> macro looks for a <code>default.css</code> file in the <code>/styles</code> folder of your Glyph project <em>and</em> among the default Glyph stylesheets, and embeds it within a <code>&lt;style&gt;</code> tag. If you supply a file with a <code>.sass</code> extension, it will interpret it as a Sass file and convert it to <span class="caps">CSS</span> automatically (if the <em>Haml</em> gem is installed).</p>
<div class="section">
<h5 id="default_styles">Default Stylesheets</h5>
<p>Glyph provides the following default stylesheets, that can be referenced directly using the <a href="#m_style">#style</a> macro macro:</p>
	<table><tr><th>File name</th>
			<th>Notes</th></tr>
		<tr><td><code>default.css</code></td>
			<td>The default stylesheet used for this book.</td></tr>
		<tr><td><code>pagination.css</code></td>
			<td>A CSS3-compliant stylesheet used for pagination, suitable for <span class="caps">PDF</span> generation using Prince.</td></tr>
		<tr><td><code>coderay.css</code></td>
			<td>The default <a href="http://coderay.rubychan.de/">Coderay</a> stylesheet, used for syntax highlighting.</td></tr>
		<tr><td><code>ultraviolet/*</code></td>
			<td>This folder contains the following <a href="http://ultraviolet.rubyforge.org/">Ultraviolet</a> stylesheets, used for syntax highlighting: <code>active4d.css, all_hallows_eve.css, amy.css, blackboard.css, brilliance_black.css, brilliance_dull.css, cobalt.css, dawn.css, eiffel.css, espresso_libre.css, idle.css, iplastic.css, lazy.css, mac_classic.css, magicwb_amiga.css, pastels_on_dark.css, slush_poppies.css, spacecadet.css, sunburst.css, twilight.css, zenburnesque.css</code></td><p></tr></table></p>
</div>
</div>
<div class="section">
<h4 id="h_31"><span class="caps">HTML</span> output</h4>
<p>To compile a Glyph project to an <span class="caps">HTML</span> document, use the <a href="#c_compile">compile</a> command within your Glyph project folder. Glyph parses the <code>document.glyph</code> file (and all included files and snippets); if no errors are found, Glyph creates an <span class="caps">HTML</span> document in the <code>/output/html</code> folder.</p>
<p>The name of the <span class="caps">HTML</span> file can be set in the configuration (<code>document.filename</code> setting).</p>
</div>
<div class="section">
<h4 id="h_32"><span class="caps">PDF</span> Output</h4>
<p>To generate a <span class="caps">PDF</span> document, you must specify <code>pdf</code> as format, like this:</p>
<p><code>glyph compile -f pdf</code></p>
<p>The command above will attempt to compile the project into an <span class="caps">HTML</span> document and then call Prince to generate a <span class="caps">PDF</span> document from it. In order for this to work, you must download and install <a href="http://www.princexml.com/">Prince</a>. It&#8217;s not open source, but the free version is fully functional, and it just adds a small logo on the first page.</p>
<div class="note">
<p><span class="note-title">Note</span>Glyph v0.2.0 has been successfully tested with Prince v7.0, and the <span class="caps">PDF</span> version of this very book was generated with it.</p>
</div>
</div>
<div class="section">
<h4 id="auto_regeneration">Auto Regeneration</h4>
<p>You can also call the <a href="#c_compile">compile</a> command with a <code>--auto</code> switch. If you do so, your project will be recompiled automatically every time any source file is changed.</p>
<div class="note">
<p><span class="note-title">Note</span>Auto regeneration requires the <a href="http://rubygems.org/gems/directory_watcher">directory_watcher</a> gem to be installed.</p>
</div>
</div>
</div>
<div class="section">
<h3 id="lite_mode">Compiling single Glyph files</h3>
<p>Glyph&#8217;s primary goal is to author complex documents like books or manuals. In order to do so, a Glyph project is required to keep everything organized and automated via a set of predefined conventions, exactly like Ruby on Rails or other similar frameworks do.</p>
<p>If you want to write a one-page article or a short draft, however, creating and managing Glyph projects can be an unnecessary burden. Luckily, you don&#8217;t have to: you can use Glyph to compile single files containing Glyph code, by adding one parameter (or two if you want to specify a custom destination file) to the <a href="#c_compile">compile</a> command, like this:</p>
<p><code>glyph compile source.glyph destination.htm</code></p>
<p>This command will process a file called <code>source.glyph</code> and produce an <span class="caps">HTML</span> file called <code>destination.htm</code>.</p>
<div class="section">
<h4 id="lite_limitations">Limitations</h4>
<p>This sort of &#8220;lite&#8221; mode comes with a few minor limitations:</p>
<ul>
	<li>Snippets can only be defined inside the source file, using the <a href="#m_snippet_">#snippet:</a> macro macro.</li>
	<li>Project configuration settings can only be defined inside the source file, using the <a href="#m_config_">#config:</a> macro macro.</li>
	<li>Custom macros can only be defined inside the source file, using the <a href="#m_macro_">#macro:</a> macro macro.</li>
	<li>Images must be linked with their absolute path, or a path relative to the current directory, and will not be copied anywhere when the output file is generated.</li>
	<li>Stylesheets must be referenced with their absolute path, a path relative to the current directory, or the name of an existing Glyph system stylesheet .</li>
	<li>The <a href="#m_include">#include</a> macro cannot be used (if you need to include other text files, you should probably use a Glyph project&#8230;)</li>
</ul>
</div>
</div>
<div class="section">
<h3 id="h_36">Using Glyph programmatically</h3>
<p>Besides using Glyph from the command line, you can also use it straight from your code. Glyph&#8217;s public <a href="http://yardoc.org/docs/glyph/Glyph"><span class="caps">API</span></a> is simple and can be used to:</p>
<ul>
	<li>Retrieve and update configuration settings (using <code>Glyph[]</code> and <code>Glyph[]=</code>)</li>
	<li>Filter text to <span class="caps">HTML</span> (using <code>Glyph#filter</code>)</li>
	<li>Compile Glyph source files into <span class="caps">HTML</span> or <span class="caps">PDF</span> files (using <code>Glyph#compile</code>)</li>
</ul>
<p>That&#8217;s pretty much it. Of course, both the <code>filter</code> and <code>compile</code> method cause Glyph to run in <a href="#lite_mode"><em>lite</em> mode</a>, so the same <a href="#lite_limitations">limitations</a> apply.</p>
<div class="tip">
<p><span class="note-title">Tip</span>For an example on how to use Glyph programmatically (specifically in conjunction with the <a href="http://nanoc.stoneship.org/">nanoc</a> static site generator), see <a href="http://github.com/h3rald/h3rald">h3rald.com source code</a>, in particular:</p>
<ul>
	<li><a href="http://github.com/h3rald/h3rald/blob/master/lib/glyph-data.rb">lib/glyph-data.rb</a> &#8212; updating configuration settings.</li>
	<li><a href="http://github.com/h3rald/h3rald/blob/master/lib/glyph-filter.rb">lib/glyph-data.rb</a> &#8212; using the <code>Glyph#filter</code> method.</li>
	<li><a href="http://github.com/h3rald/h3rald/blob/master/Rules">Rules</a> &#8212; using the <code>Glyph#compile</code> method to generate <span class="caps">PDF</span> files.</li>
</ul>
</div>
</div>

</div>
			<div class="chapter">
<h2 id="extending">Extending Glyph</h2>
<p>Glyph was created wih extensibility in mind. You can freely extend Glyph Language by creating or overriding macros, to do whatever you like. Macro definitions are written in pure Ruby code and placed in <code>.rb</code> files within the <code>lib/macros/</code> folder of your project.</p>
<div class="tip">
<p><span class="note-title">Tip</span>Alternatively, you can also define macros right in your document, using the <a href="#m_macro_">#macro:</a> macro.</p>
</div>
<div class="section">
<h3 id="h_38">Anatomy of a Macro</h3>
<p>This is the source code of a fairly simple macro used to format a note :</p>
<pre class="blackboard">macro <span class="Constant"><span class="Constant">:</span>note</span> <span class="Keyword">do</span>
  <span class="String"><span class="String">%{</span>&lt;div class=&quot;<span class="String"><span class="String">#{</span><span class="Variable"><span class="Variable">@</span>name</span><span class="String">}</span></span>&quot;&gt;&lt;span class=&quot;note-title&quot;&gt;<span class="String"><span class="String">#{</span><span class="Variable"><span class="Variable">@</span>name</span><span class="String"><span class="String">.</span><span class="Entity">to_s</span></span><span class="String"><span class="String">.</span><span class="Entity">capitalize</span></span><span class="String">}</span></span>&lt;/span&gt;</span>
<span class="String">		<span class="String"><span class="String">#{</span><span class="Variable"><span class="Variable">@</span>value</span><span class="String">}</span></span></span>
<span class="String"></span>
<span class="String">    &lt;/div&gt;<span class="String">}</span></span>
<span class="Keyword">end</span>
</pre>
<p>The <code>macro</code> method takes a single  <code>Symbol</code> or <code>String</code> parameter, corresponding to the name of the macro. In this case, the entire block (or <em>body</em> of the macro) is a <code>String</code> corresponding to what we want the macro to evaluate to: a <code>&lt;div&gt;</code> tag containing a note.</p>
<p>The body of the macro is evaluated in the context of the <a href="http://yardoc.org/docs/glyph/Glyph/Macro"><code>Glyph::Macro</code></a> class, therefore its instance variables (like <codeph>@name&lt;/codeph&gt; or &lt;codeph&gt;@value&lt;/codeph&gt;) can be used directly.</p>
<div class="box">
<div class="box-title">Why using <codeph>@name</codeph> <p>instead of just &#8220;note&#8221;?</div><br />
For the <code>note</code> macro, it absolutely makes no difference. However, by using <codeph>@name&lt;/codeph&gt; it is possible to re-use the same code for the @tip@, @important@ and @caution@ macros as well, which are in fact only aliases of the @note@ macro:</p>
<p><code>macro_alias :important =&gt; :note</code><br />
<code>macro_alias :tip =&gt; :note</code><br />
<code>macro_alias :caution =&gt; :note</code></p>
</div>
<p>The following table lists all the instance variables that can be used inside macros:</p>
<table><tr><th>Variable</th>
    <th>Description</th></tr>
  <tr><td><br />
<codeph>@node</codeph>
</td>
    <td>A <a href="http://yardoc.org/docs/glyph/Node"><code>Node</code></a> containing information about the macro, within the document syntax tree. Useful for accessing parent and child macros, and the current <a href="http://yardoc.org/docs/glyph/Glyph/Document"><code>Document</code></a>. Normally, macro nodes contain the following keys:<br />
* <code>:name</code>, the name of the macro.<br />
* <code>:value</code>, the value (i.e. the contents, within the delimiters) of the macro<br />
* <code>:source</code>, a <code>String</code> identifying the source of the macro (a file, a snippet, etc.) <br />
* <code>:document</code>, the parsed document tree.<br />
<br />
Note that the first three keys can also be accessed via instance variables.</td></tr>
  <tr><td><br />
<codeph>@name</codeph>
</td>
    <td>The name of the macro</td></tr>
  <tr><td><br />
<codeph>@value</codeph>
</td>
    <td>The full contents (including parameters and nested macros) inside the macro delimiters.</td></tr>
  <tr><td><br />
<codeph>@source</codeph>
</td>
    <td>A <code>String</code> identifying the source of the macro (a file, a snippet, etc.)</td></tr>
  <tr><td><br />
<codeph>@params</codeph>
</td>
    <td>The parameters passed to the macro. In other words, the value of the macro split by pipes (<code>|</code>).</td><p></tr></table></p>
</div>
<div class="section">
<h3 id="h_39">Bookmarks and Headers</h3>
<p>The <a href="http://yardoc.org/docs/glyph/Glyph/Macro"><code>Glyph::Macro</code></a> class also includes a few methods to check and store bookmarks and headers. Consider for example the following source code for the <a href="#m_anchor">#anchor</a> macro:</p>
<pre class="blackboard">macro <span class="Constant"><span class="Constant">:</span>anchor</span> <span class="Keyword">do </span>
  ident, title <span class="Keyword">=</span> <span class="Variable"><span class="Variable">@</span>params</span>
  macro_error <span class="String"><span class="String">&quot;</span>Bookmark '<span class="String"><span class="String">#{</span>ident<span class="String">}</span></span>' already exists<span class="String">&quot;</span></span> <span class="Keyword">if</span> bookmark? ident
  bookmark <span class="Constant"><span class="Constant">:</span>id</span> =&gt; ident, <span class="Constant"><span class="Constant">:</span>title</span> =&gt; title
  <span class="String"><span class="String">%{</span>&lt;a id=&quot;<span class="String"><span class="String">#{</span>ident<span class="String">}</span></span>&quot;&gt;<span class="String"><span class="String">#{</span>title<span class="String">}</span></span>&lt;/a&gt;<span class="String">}</span></span>
<span class="Keyword">end</span>
</pre> 
<p>The <code>bookmark?</code> method can be used to check the existance of a particular ID within the whole document, while the <code>bookmark</code> method is used to store bookmark IDs and titles. In a similar way, you can use <code>header?</code> and <code>header</code> methods to check the existance of headers within the documents or store new ones.</p>
</div>
<div class="section">
<h3 id="h_40">Using Placeholders</h3>
<p>Sometimes you may need to access some data that will not be available until the entire document has been fully parsed and analyzed. For example, in order to be able to validate internal links, it is necessary to know in advance if the bookmark ID referenced in the link exists or not, either before (that&#8217;s easy) or even <em>after</em> the link.</p>
<p>Here&#8217;s the source code of the <a href="#m_link">#link</a> macro:</p>
<pre class="blackboard">macro <span class="Constant"><span class="Constant">:</span>link</span> <span class="Keyword">do</span>
  href, title <span class="Keyword">=</span> <span class="Variable"><span class="Variable">@</span>params</span>
  <span class="Keyword">if</span> href.<span class="Entity">match</span> <span class="String"><span class="String">/</span></span><span class="String">^#</span><span class="String"><span class="String">/</span></span> <span class="Keyword">then</span>
    anc <span class="Keyword">=</span> href.<span class="Entity">gsub</span>(<span class="String"><span class="String">/</span></span><span class="String">^#</span><span class="String"><span class="String">/</span></span>, <span class="String"><span class="String">'</span><span class="String">'</span></span>).<span class="Entity">to_sym</span>
    bmk <span class="Keyword">=</span> bookmark? anc
    <span class="Keyword">if</span> bmk <span class="Keyword">then</span>
      title <span class="Keyword">||=</span> bmk[<span class="Constant"><span class="Constant">:</span>title</span>]
    <span class="Keyword">else</span>
      plac <span class="Keyword">=</span> placeholder <span class="Keyword">do </span>|<span class="Variable">document</span>|
        macro_error <span class="String"><span class="String">&quot;</span>Bookmark '<span class="String"><span class="String">#{</span>anc<span class="String">}</span></span>' does not exist<span class="String">&quot;</span></span> <span class="Keyword">unless</span> document.<span class="Entity">bookmarks</span>[anc] 
        document.<span class="Entity">bookmarks</span>[anc][<span class="Constant"><span class="Constant">:</span>title</span>]
      <span class="Keyword">end</span>
      title <span class="Keyword">||=</span> plac
    <span class="Keyword">end</span>
  <span class="Keyword">end</span>
  title <span class="Keyword">||=</span> href
  <span class="String"><span class="String">%{</span>&lt;a href=&quot;<span class="String"><span class="String">#{</span>href<span class="String">}</span></span>&quot;&gt;<span class="String"><span class="String">#{</span>title<span class="String">}</span></span>&lt;/a&gt;<span class="String">}</span></span>
<span class="Keyword">end</span>
</pre>
<p>If there&#8217;s already a bookmark stored in the current document, then it is possible to retrieve its title and use it as link text. Otherwise, it is necessary to wait until the entire document has been fully processed and then check if the bookmark exists. To do so, use the <code>placeholder</code> method. When called, this method returns an unique placeholder, which is then substituted with the value of the block, right before the document is finalized.</p>
<p>Within the <code>placeholder</code> block, the <code>document</code> parameter is, by all means, the fully analyzed document.</p>
</div>
<div class="section">
<h3 id="h_41">Using Validators</h3>
<p>If you need to make sure that a macro is used properly, consider using <a href="http://yardoc.org/docs/glyph/Glyph/Macro/Validators">validators</a>. These methods can be used anywhere within the macro code to check whether certain conditions are met or not. Some default validators are provided to check the number of parameters of a macro, and they are actually used in some system macros.</p>
<p>If you want to create your own validators, you can call the generic <code>validate</code> method which takes the message to display in case of error, a Hash of options and a block containing the validation to perform.</p>
<div class="box">
<div class="box-title">Validating macro placement</div>
<p>You can, of course, create your own validators to check whether a macro is used within another. While this may seem a good idea to enforce constraints into the way documents are created, it has one major drawback: if you define a macro with such validation, you&#8217;re effectively limiting its usage, so for example you won&#8217;t be able to use within snippets or other custom macros.</p>
<p>Suppose, for example, that the <a href="#m_header">#header</a> macro is only allowed within a <code>section</code> macro. This means that, for example:</p>
<ul>
	<li>the macro cannot be used within <code>chapter</code> or <code>appendix</code> macros.</li>
	<li>the macro cannot be used in snippets</li>
</ul>
<p>Even if you consider all the possibilities within the scope of the default macros provided with Glyph, this would also make the <code>header</code> macro unusable within custom macros.</p>
</div>
</div>
<div class="section">
<h3 id="h_42">Interpreting Glyph Code</h3>
<p>What if you need to evaluate some Glyph code <em>within</em> a macro? Say for example you want to transform a parameter in a link, and you want to make sure that link gets validated exactly like the others, in this case, you can use the <code>interpret</code> method, as follows:</p>
<pre class="blackboard">macro <span class="Constant"><span class="Constant">:</span>fmi</span> <span class="Keyword">do</span>
  topic, href <span class="Keyword">=</span> <span class="Variable"><span class="Variable">@</span>params</span>
  link <span class="Keyword">=</span> placeholder <span class="Keyword">do </span>|<span class="Variable">document</span>| 
    interpret <span class="String"><span class="String">&quot;</span>link[<span class="String"><span class="String">#{</span>href<span class="String">}</span></span>]<span class="String">&quot;</span></span>
  <span class="Keyword">end</span>
  <span class="String"><span class="String">%{</span>&lt;span class=&quot;fmi&quot;&gt;for more information on <span class="String"><span class="String">#{</span>topic<span class="String">}</span></span>, see <span class="String"><span class="String">#{</span>link<span class="String">}</span></span>&lt;/span&gt;<span class="String">}</span></span>
<span class="Keyword">end</span>
</pre> 
<p>When the <code>interpret</code> method is called, the following happens:</p>
<ol>
	<li>A new Glyph document is created from the <code>String</code> passed to the method.</li>
	<li>The bookmarks, headers and placeholders are passed from the main document to the new one. Because they are stored in arrays and hashes, they are passed by reference, so for example any new bookmark stored in the new document will also become available in the main document.</li>
	<li>Any macro included in the <code>String</code> is evaluated, and the resulting text is returned by the method. Note that this new document does not get finalized: in other words, placeholders will be left as they are, and they&#8217;ll eventually be replaced when <em>the main document</em> is finalized.</li>
</ol>
<div class="section">
<h4 id="encode_decode">Encoding and Decoding Glyph Code</h4>
<p>When you use the <code>interpret</code> method, keep in mind that the code is interpreted <em>before</em> the macro execution ends. This may not always be what you want: if you&#8217;re nesting macros interpreting <code>section</code> and <code>header</code> macros,for example, your Table of Contents may get messed up, with child sections showing up before their parents.</p>
<p>To avoid this, you can use the <code>encode</code> and <code>decode</code> methods, as shown in the macros defined for Glyph&#8217;s <a href="http://github.com/h3rald/glyph/blob/master/book/text/changelog.glyph">Changelog</a>:</p>
<pre class="blackboard">macro <span class="Constant"><span class="Constant">:</span>issue</span> <span class="Keyword">do</span>
  exact_parameters <span class="Constant">2</span>
  ident, desc <span class="Keyword">=</span> <span class="Variable"><span class="Variable">@</span>params</span>
  encode <span class="String"><span class="String">%{</span></span>
<span class="String">    tr[</span>
<span class="String">      td[=&gt;[http://github.com/h3rald/glyph/issues/closed#issue/<span class="String"><span class="String">#{</span>ident<span class="String">}</span></span>|#<span class="String"><span class="String">#{</span>ident<span class="String">}</span></span>]]</span>
<span class="String">      td[textile[<span class="String"><span class="String">#{</span>desc<span class="String">}</span></span>]]</span>
<span class="String">    ]</span>
<span class="String">  <span class="String">}</span></span>
<span class="Keyword">end</span>

macro <span class="Constant"><span class="Constant">:</span>features</span> <span class="Keyword">do</span>
  verb <span class="Keyword">=</span> (<span class="Variable"><span class="Variable">@</span>name</span> <span class="Keyword">==</span> <span class="Constant"><span class="Constant">:</span>features</span>) <span class="Keyword">?</span> <span class="String"><span class="String">&quot;</span>Implemented<span class="String">&quot;</span></span> : <span class="String"><span class="String">&quot;</span>Fixed<span class="String">&quot;</span></span>
  total <span class="Keyword">=</span> <span class="Variable"><span class="Variable">@</span>node</span>.<span class="Entity">children</span>.<span class="Entity">length</span>
  encode <span class="String"><span class="String">%{</span></span>
<span class="String">    section[@title[<span class="String"><span class="String">#{</span>total<span class="String">}</span></span> <span class="String"><span class="String">#{</span><span class="Variable"><span class="Variable">@</span>name</span><span class="String"><span class="String">.</span><span class="Entity">to_s</span></span><span class="String"><span class="String">.</span><span class="Entity">capitalize</span></span><span class="String">}</span></span> <span class="String"><span class="String">#{</span>verb<span class="String">}</span></span>]</span>
<span class="String">      table[</span>
<span class="String">        tr[</span>
<span class="String">          th[ID]</span>
<span class="String">          th[Description]</span>
<span class="String">        ]</span>
<span class="String">        <span class="Variable"><span class="Variable">#@</span>value</span></span>
<span class="String">      ]</span>
<span class="String">    ]</span>
<span class="String">  <span class="String">}</span></span>
<span class="Keyword">end</span>

macro <span class="Constant"><span class="Constant">:</span>release</span> <span class="Keyword">do</span>
  exact_parameters <span class="Constant">3</span>
  number, date, contents <span class="Keyword">=</span> <span class="Variable"><span class="Variable">@</span>params</span>
  interpret <span class="String"><span class="String">%{</span></span>
<span class="String">    section[@title[v<span class="String"><span class="String">#{</span>number<span class="String">}</span></span> &amp;ndash; <span class="String"><span class="String">#{</span>date<span class="String">}</span></span>]</span>
<span class="String">      <span class="String"><span class="String">#{</span>decode contents<span class="String">}</span></span></span>
<span class="String">    ]</span>
<span class="String">  <span class="String">}</span></span>
<span class="Keyword">end</span>
</pre>
<p>In this case, <code>issue</code> macros are nested within a <code>features</code> macro, which in turn is nested within a <code>release</code> macro. Note that none of these macros have any side effect: they are just used for text expansion. Because we&#8217;re always going to nest these macros in this way, there&#8217;s no to have each one interpret Glyph code: it will be the <code>release</code> macro&#8217;s job to do so. Instead, the <code>features</code> and <code>issue</code> macros just encode text which will then be decoded by the <code>release</code> macro, before being interpreted.</p>
<p>When you <em>encode</em> a macro, its delimiters (<code>[</code>, <code>]</code>, and <code>|</code>) will be escaped (into ‡‡¤91¤‡‡, ‡‡¤93¤‡‡, and ‡‡¤124¤‡‡ respectively), and when you <em>decode</em> it, they will be unescaped. In a nutshell, you may want to use the encode/decode mechanism when:</p>
<ul>
	<li>When you&#8217;re nesting macros interpreting Glyph code, without side effects.</li>
	<li>When all you want is to copy some Glyph code from child macros into their parents.</li>
</ul>
<div class="note">
<p><span class="note-title">Note</span>These methods are also wrapped in the <a href="#m_encode">#encode</a> macro and in the <a href="#m_decode">#decode</a> macro.</p>
</div>
</div>
</div>
<div class="section">
<h3 id="h_44">Further Reading</h3>
<p>For more examples on how to create more complex macros, have a look at the <a href="http://github.com/h3rald/glyph/tree/master/macros/">source code</a> of the existing ones.</p>
<p>To gain a deeper understanding on how macros are executed, have a look at the following Glyph classes:</p>
<ul>
	<li><a href="http://yardoc.org/docs/glyph/Glyph/Macro"><code>Glyph::Macro</code></a></li>
	<li><a href="http://yardoc.org/docs/glyph/Glyph/Interpreter"><code>Glyph::Interpreter</code></a></li>
	<li><a href="http://yardoc.org/docs/glyph/Glyph/Document"><code>Glyph::Document</code></a></li>
	<li><a href="http://yardoc.org/docs/glyph/Glyph/Node"><code>Node</code></a></li>
</ul>
</div>

</div>
			<div class="chapter">
<h2 id="h_45">Troubleshooting</h2>
<p>This chapter lists the most common error messages that can be returned when running a Glyph command. It does not aim to be an exhaustive list, especially if you <a href="#extending">extended</a> Glyph by creating your own macros or you&#8217;re embedding Ruby code using the <a href="#m_ruby">#ruby</a> macro macro.</p>
<div class="tip">
<p><span class="note-title">Tip</span>As a general rule, more diagnostic information is provided if Glyph is run in <a href="#debug_switch">debug mode</a>.</p>
</div>
<div class="section">
<h3 id="h_46">Generic Errors</h3>
<table style="width:100%;">
<tr>
				<th style="width:30%">Error Message</th>
				<th>Description</th>
</tr>
<tr>
			<td>Incorrect macro syntax</td>
			<td>This error is returned if the parsing of the document (or one of its included files) failed. In 99% of the cases, this means there is an extra or missing macro delimiter somewhere.</td>
</tr>

<tr>
			<td>Invalid alias: macro &#8216;<em>macro-name</em>&#8217; already exists</td>
			<td>The alias name supplied to the <code>macro_alias</code> method has already been used for another macro or alias.</td>
</tr>

<tr>
			<td>Undefined macro &#8216;<em>macro-name</em>&#8217;</td>
			<td>The document contains a macro that does not exist, i.e. it is not a standard or used-defined <a href="#macro_ref">Glyph macro or alias</a>.</td>
</tr>

<tr>
			<td>An error occurred when generating <em>file-name</em>.pdf</td>
			<td>Returned if Prince could not generate the <span class="caps">PDF</span> file or if Prince is not installed. Normally, Prince provides additional details on the specific error(s).</td>
</tr>

<tr>
			<td>Glyph cannot generate <span class="caps">PDF</span>. Please specify a valid tools.pdf_generator setting</td>
			<td>Returned if the <a href="#s_tools_pdf_generator">tools.pdf_generator</a> setting has not be set to a valid <span class="caps">PDF</span> renderer. Currently, the only supported value for this setting is <code>prince</code>.</td>
</tr>

<tr>
			<td>The current directory is not a valid Glyph project</td>
			<td>Returned if a glyph command was executed outside a valid glyph project directory.</td>
</tr>

<tr>
			<td>Invalid snippet file</td>
			<td>The <code>snippet.yml</code> file contains invalid data. Most likely, it does not evaluate to a Ruby <code>Hash</code>.</td>
</tr>

<tr>
			<td>Directory &#8216;<em>directory-name</em>&#8217; is not empty</td>
			<td>Returned when executing the <a href="#c_init">init</a> command in a directory that is not empty.</td>
</tr>

<tr>
			<td>File &#8216;<em>file-name</em>&#8217; already exists</td>
			<td>Returned if the name of an existing file was specified as a parameter for the <a href="#c_add">add</a> command.</td>
</tr>
</table>
</div>
<div class="section">
<h3 id="h_47">Command Errors</h3>
<table style="width:100%;">
<tr>
				<th style="width:30%">Error Message</th>
				<th>Description</th>
</tr>
<tr>
			<td>Source file &#8216;<em>source-file</em>&#8217; does not exist</td>
			<td>Returned if Glyph is running in <a href="#lite_mode">lite mode</a> and the specified source file was not found.</td>
</tr>

<tr>
			<td>Source and destination file are the same</td>
			<td>Returned if Glyph is running in <a href="#lite_mode">lite mode</a> and you specified the same source and destination files.</td>
</tr>

<tr>
			<td>DirectoryWatcher is not available. Install it with: gem install directory_watcher</td>
			<td>Returned if <a href="#auto_regeneration">auto regeneration</a> is enabled but the <code>directory_watcher</code> gem in not installed.</td>
</tr>

<tr>
			<td>Document cannot be finalized due to previous errors</td>
			<td>Returned if one or more errors occurred in the document prevented finalization.</td>
</tr>

<tr>
			<td>Please specify a file name</td>
			<td>No file name was specified for the <a href="#c_add">add</a> command.</td>
</tr>

<tr>
			<td>Output target not specified</td>
			<td>Returned if no target was specified for the <a href="#c_compile">compile</a> command <em>and</em> if the <a href="#s_document_output">document.output</a> setting is not set.</td>
</tr>

<tr>
			<td>Unknown output target &#8216;<em>target-name</em>&#8217;</td>
			<td>An unsupported output target was specified for the <a href="#c_compile">compile</a> command. Only the following output targets are supported:<br />
- <code>html</code><br />
- <code>pdf</code></td>
</tr>

<tr>
			<td>Too few/too many arguments</td>
			<td>Returned if the <a href="#c_config">config</a> command was used with no arguments or more than two arguments respectively.</td>
</tr>

<tr>
			<td>Unknown setting &#8216;<em>setting-name</em>&#8217;</td>
			<td>The name of an unknown setting was specified for the <a href="#c_config">config</a> command.</td>
</tr>
</table>
</div>
<div class="section">
<h3 id="h_48">Macro Errors</h3>
<p>The following errors are displayed in the form:</p>
<p><em>message</em><br />
&#8594; source: <em>macro-source</em><br />
&#8594; path: <em>macro-path</em> <br />
&#8594; value: <em>macro-value</em></p>
<p>Where:</p>
<ul>
	<li><em>message</em> is the error message.</li>
	<li><em>macro-source</em> is the file or snippet where the error occurred.</li>
	<li><em>macro-path</em> is the full path to the macro that returned the error, within the document syntax tree, e.g. <code>document/body/bodymatter/chapter/section/header/&amp;</code> if the error occurrent in a snippet within the header of a section in the <code>bodymatter</code> part of the document.</li>
	<li><em>macro-value</em> is the value of the macro (shown only if Glyph is running in <a href="#debug_switch">debug mode</a>).</li>
</ul>
<table style="width:100%;">
<tr>
				<th style="width:30%">Error Message</th>
				<th>Description</th>
</tr>
<tr>
			<td>Macro &#8216;<em>name</em>&#8217; takes up to <em>x</em> parameter(s) (<em>y</em> given)</td>
			<td>Returned if the macro was called with extra parameters.</td>
</tr>

<tr>
			<td>Macro &#8216;<em>name</em>&#8217; takes at least <em>x</em> parameter(s) (<em>y</em> given)</td>
			<td>Returned if the macro was called with fewer parameters than expected.</td>
</tr>

<tr>
			<td>Macro &#8216;<em>name</em>&#8217; takes exactly <em>x</em> parameter(s) (<em>y</em> given)</td>
			<td>Returned if the macro was called with a different number of parameters than.</td>
</tr>

<tr>
			<td>Macro not available when compiling a single file.</td>
			<td>Returned by the <a href="#m_include">#include</a> macro if used in <a href="#lite_mode">lite mode</a>.</td>
</tr>

<tr>
			<td>Filter macro &#8216;<em>extension</em>&#8217; not available</td>
			<td>Returned by a filter macro if <a href="#s_filters_by_file_extension">filters.by_file_extension</a> setting is set to <code>true</code>, but the extension was not recognized.</td>
</tr>

<tr>
			<td>Invalid regular expression: <em>regexp</em></td>
			<td>Returned by the <a href="#m_match">#match</a> macro macro if an invalid regular expression was supplied.</td>
</tr>

<tr>
			<td>Macro &#8216;<em>name</em>&#8217; takes no parameters (<em>x</em> given)</td>
			<td>Returned if the macro was called with parameters but none are requested.</td>
</tr>

<tr>
			<td>No highlighter installed. Please run: gem install coderay</td>
			<td>Returned by the <a href="#m_highlight">#highlight</a> macro macro if no highlighters are installed.</td>
</tr>

<tr>
			<td>CodeRay highlighter not installed. Please run: gem install coderay</td>
			<td>Returned by the <a href="#m_highlight">#highlight</a> macro macro if <a href="#s_highlighters_current">highlighters.current</a> setting is set to <code>coderay</code> but <a href="http://coderay.rubychan.de/">Coderay</a> is not installed.</td>
</tr>

<tr>
			<td>UltraViolet highlighter not installed. Please run: gem install ultraviolet</td>
			<td>Returned by the <a href="#m_highlight">#highlight</a> macro macro if <a href="#s_highlighters_current">highlighters.current</a> setting is set to <code>ultraviolet</code> but <a href="http://ultraviolet.rubyforge.org/">Ultraviolet</a> is not installed.</td>
</tr>

<tr>
			<td>Mutual inclusion</td>
			<td>Returned if a catch-22 situation occurs with macro inclusion, for example if the body of a snippet includes a reference to the same snippet.</td>
</tr>

<tr>
			<td>Snippet &#8216;<em>snippet-id</em>&#8217; does not exist</td>
			<td>Returned by the <a href="#m_snippet">#snippet</a> macro if an invalid snippet was supplied.</td>
</tr>

<tr>
			<td>File &#8216;<em>file-name</em>&#8217; not found</td>
			<td>Returned by the <a href="#m_include">#include</a> macro if an invalid file was supplied.</td>
</tr>

<tr>
			<td>Filter macro &#8216;<em>macro-name</em>&#8217; not found</td>
			<td>Returned by the <a href="#m_include">#include</a> macro macro if the <a href="#s_filters_by_file_extension">filters.by_file_extension</a> setting is set to <code>true</code> but the file extension of the included file is not recognized as a filter macro.</td>
</tr>

<tr>
			<td>RedCloth gem not installed. Please run: gem insall RedCloth</td>
			<td>Returned by the <a href="#m_textile">#textile</a> macro if the RedCloth gem is not installed.</td>
</tr>

<tr>
			<td>No MarkDown converter installed. Please run: gem insall bluecloth</td>
			<td>Returned by the <a href="#m_markdown">#markdown</a> macro if no valid Markdown converter gem is installed. <br />
<br />
Glyph checks for: BlueCloth, Maruku, Kramdown and RDiscount.</td>
</tr>

<tr>
			<td>Image/Figure not found</td>
			<td>Retured by the <a href="#m_img">#img</a> macro or the <a href="#m_fig">#fig</a> macro respectively, if the specified image file could not be found within the <code>images/</code> folder.</td>
</tr>

<tr>
			<td>Bookmark &#8216;<em>bookmark-name</em>&#8217; already exists</td>
			<td>Returned by the <a href="#m_anchor">#anchor</a> macro or by the <a href="#m_header">#header</a> macro if the anchor ID supplied as parameter has already been used in the document.</td>
</tr>

<tr>
			<td>Bookmark &#8216;<em>bookmark-name</em>&#8217; already exists</td>
			<td>Returned by the <a href="#m_link">#link</a> macro if the anchor ID supplied as parameter has not been used in the document.</td>
</tr>

<tr>
			<td>Stylesheet &#8216;<em>file-name</em>&#8217; not found</td>
			<td>Returned by the <a href="#m_style">#style</a> macro if the <code>.css</code> or <code>.sass</code> file supplied as parameter was not found in the <code>styles/</code> directory.</td>
</tr>

<tr>
			<td>Haml is not installed. Please run: gem install haml</td>
			<td>Returned by the <a href="#m_style">#style</a> macro if a <code>.sass</code> file was passed as parameter but the Haml gem is not installed.</td>
</tr>
</table>
</div>

</div>

</div>
		<div class="backmatter">
<div class="appendix">
<h2 id="cmd_ref">Command Reference</h2>
<p>Glyph&#8217;s command-line interface has been built using the <a href="http://github.com/davetron5000/gli">gli</a> (Git-like interface) gem. Therefore, Glyph commands are all written like this:</p>
<p><code>glyph</code> <em>global-options</em> command <em>options</em> <em>parameters</em></p>
<p>Where:</p>
<ul>
	<li><em>global-options</em> and <em>options</em> are in the form: <code>-n</code> <em>value</em> or <code>--name=</code><em>value</em>, e.g. <code>-f pdf</code> or <code>--format=pdf</code></li>
	<li><em>parameters</em> are separated by whitespaces, and can be wrapped in quotes.</li>
</ul>
<div class="section">
<h3 id="h_50">Global Options</h3>
<div class="section">
<h4 id="debug_switch"><code>-d</code>, <code>--debug</code></h4>
<p>If specified, the command is executed in debug mode and additional diagnostic information is printed on the screen.</p>
</div>
</div>
<div class="section">
<h3 id="c_add"><code>add</code></h3>
<p>Creates a new text file in the <code>text/</code> folder.</p>
<p><strong>Example:</strong> <code>glyph add introduction.textile</code></p>
<div class="section">
<header>Parameters</header>
<table style="width:100%;">
<tr>
				<th style="width:30%">Parameter</th>
				<th>Description</th>
</tr>
<tr>
			<td><em>file-name</em></td>
			<td>The name (or relative path) of the new file to be created.</td>
</tr>
</table>
</div>
</div>
<div class="section">
<h3 id="c_compile"><code>compile</code></h3>
<p>Compiles a Glyph document into an output file. If no options are specified, the <code>document.glyph</code> file is used as source to produce a standalone <span class="caps">HTML</span> file.</p>
<p><strong>Example:</strong> <code>glyph compile -f pdf</code></p>
<div class="section">
<header>Parameters</header>
<table style="width:100%;">
<tr>
				<th style="width:30%">Parameter</th>
				<th>Description</th>
</tr>
<tr>
			<td><em>source</em></td>
			<td>The source glyph file to compile <em>(Optional)</em>.</td>
</tr>

<tr>
			<td><em>destination</em></td>
			<td>The destination file <em>(Optional)</em>.</td>
</tr>
</table>
</div>

<div class="section">
<header>Options</header>
<table style="width:100%;">
<tr>
				<th style="width:30%">Option</th>
				<th>Description</th>
</tr>
<tr>
			<td>-s (--source)</td>
<td>
<p>The source file to compile. <br />
<strong>Default Value:</strong> <code>document.glyph</code></p>
</td>
</tr>

<tr>
			<td>-f (--format)</td>
<td>
<p>The format of the output file.<br />
<strong>Default Value:</strong> <code>html</code><br />
<strong>Possible Values:</strong> <code>html, pdf</code></p>
</td>
</tr>

<tr>
			<td>-a (--auto)</td>
<td>
<p>If specified, enable <a href="#auto_regeneration">auto regeneration</a> (requires the <a href="http://rubygems.org/gems/directory_watcher">directory_watcher</a> gem to be installed).</p>
</td>
</tr>
</table>
</div>
</div>
<div class="section">
<h3 id="c_config"><code>config</code></h3>
<p>Gets or sets a configuration setting in the project or global configuration file (<span class="fmi">for more information on configuration files, see <a href="#cfg">Project Configuration</a></span>).</p>
<p><strong>Examples:</strong> <br />
<code>glyph config document.filename</code><br />
<code>glyph config -g document.author "Fabio Cevasco"</code></p>

<div class="section">
<header>Options</header>
<table style="width:100%;">
<tr>
				<th style="width:30%">Option</th>
				<th>Description</th>
</tr>
<tr>
			<td>-g (--global)</td>
<td>
<p>If specified, the global configuration file is processed instead of the project file.<br />
<strong>Default Value:</strong> <code>false</code></p>
</td>
</tr>
</table>
</div>

<div class="section">
<header>Parameters</header>
<table style="width:100%;">
<tr>
				<th style="width:30%">Parameter</th>
				<th>Description</th>
</tr>
<tr>
			<td><em>setting</em></td>
			<td>The name of a valid <a href="#cfg_ref">configuration setting</a>.</td>
</tr>

<tr>
			<td><em>value</em></td>
			<td>The new value of the configuration setting.</td>
</tr>
</table>
</div>
</div>
<div class="section">
<h3 id="c_help"><code>help</code></h3>
<p>Prints information about all Glyph commands or about one specific command.</p>
<p><strong>Examples:</strong> <br />
<code>glyph help</code><br />
<code>glyph help compile</code></p>

<div class="section">
<header>Parameters</header>
<table style="width:100%;">
<tr>
				<th style="width:30%">Parameter</th>
				<th>Description</th>
</tr>
<tr>
			<td><em>command</em></td>
			<td>A valid Glyph command.</td>
</tr>
</table>
</div>
</div>
<div class="section">
<h3 id="c_init"><code>init</code></h3>
<p>Creates a new Glyph project in the current directory (if empty).</p>
<p><strong>Example:</strong> <code>glyph init</code></p>
</div>
<div class="section">
<h3 id="c_todo"><code>todo</code></h3>
<p>Prints all the todo items saved using the <a href="#m_todo">#todo</a> macro.</p>
<p><strong>Example:</strong> <code>glyph todo</code></p>
</div>

</div>
			<div class="appendix">
<h2 id="macro_ref">Macro Reference</h2>
<p>&lt;﻿section title=&#8220;Common Macros&#8221;&gt;<div class="section"><br />
<h3 id="m_and">and</h3><br />
Conditional <code>and</code> operator, to be used with the <a href="#m_condition">#condition</a> macro.</p>
<p><strong>Example:</strong> <code>?[and[true|false]|This is never displayed.]</code></p>
</div>

<div class="section">
<h3 id="m_comment">comment</h3>
<p>Evaluates to nothing. Used to add comments in a Glyph document that will not be displayed in output files.</p>
<p><strong>Aliases:</strong> <code>--</code><br />
<strong>Example:</strong> <code>--[This is a comment. It will not be displayed in the output]</code></p>
</div>

<div class="section">
<h3 id="m_condition">condition</h3>
<p>Tests a conditional expression (first parameter), and evaluates to the second parameter if the condition is satisfied. If the second parameter is an <a href="#m_escape">#escape</a> macro macro, its contents are unescaped and interpreted only if the condition is satisfied. For more information, see <a href="#cond_macros">Conditional Macros</a>.</p>
<p><strong>Aliases:</strong> <code>?</code></p>
<p><strong>Examples</strong></p>
<p>See any of the following:</p>
<ul>
	<li><a href="#m_and">#and</a> macro</li>
	<li><a href="#m_or">#or</a> macro</li>
	<li><a href="#m_not">#not</a> macro</li>
	<li><a href="#m_match">#match</a> macro</li>
	<li><a href="#m_eq">#eq</a> macro</li>
</ul>
</div>

<div class="section">
<h3 id="m_config">config</h3>
<p>Evaluates to the configuration setting referenced by its value.</p>
<p><strong>Aliases:</strong> <code>$</code><br />
<strong>Example:</strong> <code>$[document.author]</code></p>
</div>

<div class="section">
<h3 id="m_config_">config:</h3>
<p>Sets the value of a configuration setting.</p>
<p><strong>Aliases:</strong> <code>$:</code></p>
<p><strong>Example:</strong> <code>$:[document.draft|true]</code></p>
</div>

<div class="section">
<h3 id="m_decode">decode</h3>
<p>Decodes some text that was previously encoded (see <a href="#m_encode">#encode</a> macro). <span class="fmi">for more information on this topic, see <a href="#encode_decode">Encoding and Decoding Glyph Code</a></span>.</p>
<p><strong>Aliases:</strong> <code>**</code></p>
<p><strong>Example:</strong> <code>*[=note‡‡¤91¤‡‡This will not be evaluated‡‡¤93¤‡‡=]</code></p>
</div>

<div class="section">
<h3 id="m_encode">encode</h3>
<p>Encodes some Glyph code to prevent its evaluation, so that it can be decoded (and interpreted) later on (see the <a href="#m_decode">#decode</a> macro). <span class="fmi">for more information on this topic, see <a href="#encode_decode">Encoding and Decoding Glyph Code</a></span>.</p>
<p><strong>Aliases:</strong> <code>*</code></p>
<p><strong>Example:</strong> <code>*[=note[This will not be evaluated]=]</code></p>
</div>

<div class="section">
<h3 id="m_eq">eq</h3>
<p>Conditional equality operator, to be used with the <a href="#m_condition">#condition</a> macro.</p>
<p><strong>Example:</strong> <code>?[eq[$[document.draft]|true]|This is displayed only in draft documents.]</code></p>
</div>

<div class="section">
<h3 id="m_escape">escape</h3>
<p>Evaluates to its value. Commonly used with the escaping delimiters <codeph>[=&lt;/codeph&gt; and &lt;codeph&gt;=]&lt;/codeph&gt;.</p>
<p><strong>Aliases:</strong> <code>.</code><br />
<strong>Example:</strong> <code>.[=Macros are escaped here =&gt;[#test].=]</code></p>
</div>

<div class="section">
<h3 id="m_include">include</h3>
<p>Evaluates to the contents of a text file stored in the <code>text/</code> directory referenced by its value. If the <a href="#s_filters_by_file_extension">filters.by_file_extension</a> setting is <code>true</code>, filters the contents of the file using the <a href="#f_macros">filter macro</a> corresponding to the file extension.</p>
<p><strong>Aliases:</strong> <code>@</code><br />
<strong>Example:</strong> <code>include[introduction.textile]</code></p>
</div>

<div class="section">
<h3 id="m_match">match</h3>
<p>Evaluates to <code>true</code> if the first parameter matches the second, an empty string otherwise. The second parameter must be a valid Ruby-compatible regular expression. This macro must be used with the <a href="#m_condition">#condition</a> macro.</p>
<p><strong>Example:</strong> <code>?[match[Hello!|/^hell/i]|This is always displayed]</code></p>
</div>

<div class="section">
<h3 id="m_macro_">macro:</h3>
<p>Defines a macro.</p>
<div class="note">
<p><span class="note-title">Note</span>The new macro can only be used <em>after</em> its declaration.</p>
</div>
<p><strong>Aliases:</strong> <code>%:</code></p>
<p><strong>Example:</strong> <code>%:[test|"&lt;em&gt;test: #@value&lt;/em&gt;"]</code></p>
</div>

<div class="section">
<h3 id="m_not">not</h3>
<p>Conditional <code>and</code> operator, to be used with the <a href="#m_condition">#condition</a> macro.</p>
<p><strong>Example:</strong> <code>?[not[false]|This is always displayed.]</code></p>
</div>

<div class="section">
<h3 id="m_or">or</h3>
<p>Conditional <code>or</code> operator, to be used with the <a href="#m_condition">#condition</a> macro.</p>
<p><strong>Example:</strong> <code>?[or[true|false]|This is always displayed.]</code></p>
</div>

<div class="section">
<h3 id="m_ruby">ruby</h3>
<p>Evaluates its value as Ruby code (using <code>Kernel#instance_eval</code>).</p>
<p><strong>Aliases:</strong> <code>%</code></p>
<p><strong>Examples:</strong> <br />
<code>%[Time.now]</code><br />
<code>%[Glyph::VERSION]</code></p>
</div>

<div class="section">
<h3 id="m_snippet">snippet</h3>
<p>Evaluates to the snippet referenced by its value.</p>
<p><strong>Aliases:</strong> <code>&amp;</code><br />
<strong>Example:</strong> <code>&amp;[glang]</code></p>
</div>

<div class="section">
<h3 id="m_snippet_">snippet:</h3>
<p>Defines a snippet.</p>
<div class="note">
<p><span class="note-title">Note</span>The new snippet can only be used <em>after</em> its declaration.</p>
</div>
<p><strong>Aliases:</strong> <code>&amp;:</code></p>
<p><strong>Example:</strong> <code>&amp;:[test|This is a test]</code></p>
</div>

<div class="section">
<h3 id="m_todo">todo</h3>
<p>Saves the value as a <span class="caps">TODO</span> item, which can be printed using the <a href="#c_todo">todo</a> command or included in the document if the <a href="#s_document_draft">document.draft</a> setting is set to <code>true</code>.</p>
<p><strong>Example:</strong> <code>todo[Remember to do this.]</code></p>
<p></div>&lt;/﻿section&gt;</p>
<div class="section">
<h3 id="f_macros">Filter Macros</h3>
<div class="section">
<h4 id="m_markdown">markdown</h4>
<p>Uses a markdown converter (BlueCloth, RDiscount, Maruku or Kramdown) to transform the value into <span class="caps">HTML</span> if the <a href="#s_filters_target">filters.target</a> setting is set to <code>html</code>.</p>
<p>If the <a href="#s_filters_by_file_extension">filters.by_file_extension</a> setting is <code>true</code>, this macro is called automatically on <a href="#m_include">included</a> files with a <code>.markdown</code> or a <code>.md</code> extension.</p>
<p><strong>Example:</strong> <code>markdown[This is *emphasized* text.]</code></p>
</div>

<div class="section">
<h4 id="m_textile">textile</h4>
<p>Uses the RedCloth gem to transform the value into <span class="caps">HTML</span> or LaTeX, depending on the value of the <a href="#s_filters_target">filters.target</a> setting.</p>
<p>If the <a href="#s_filters_by_file_extension">filters.by_file_extension</a> setting is <code>true</code>, this macro is called automatically on <a href="#m_include">included</a> files with a <code>.textile</code> extension.</p>
<p><strong>Example:</strong> <code>textile[This is a *strong emphasis*.]</code></p>
</div>
</div>
<div class="section">
<h3 id="h_80">Block Macros</h3>
<div class="section">
<h4 id="m_box">box</h4>
<p>Creates a titled box (<code>&lt;div&gt;</code> tag).</p>
<p><strong>Example:</strong></p>
<p><code>box[Why boxes?|
Boxes can be used to make a section of text stand out from the rest of the document.
]</code></p>
</div>

<div class="section">
<h4 id="m_code">code</h4>
<p>Used to render a block of code within <code>&lt;pre&gt;</code> and <code>&lt;code&gt;</code> tags.</p>
<ul>
	<li>For inline code, see the <a href="#m_codeph">#codeph</a> macro.</li>
	<li>For code highlighting, see the <a href="#m_highlight">#highlight</a> macro.</li>
</ul>
<p><strong>Example:</strong></p>
<p><code>code[
  def hello
    puts "Hello World"
  end
]</code></p>
</div>

<div class="section">
<h4 id="m_fig">fig</h4>
<p>Includes an image in the document, with an optional caption.</p>
<p><strong>Examples:</strong> <br />
<code>fig[diagram.png]</code><br />
<code>fig[graph.png|Monthly pageviews]</code></p>
</div>

<div class="section">
<h4 id="m_highlight">highlight</h4>
<p>Highlights a piece of source code (second parameter) according to the specified language (first parameter). <span class="fmi">for more information on code highligting, see <a href="#source_code">Source code</a></span>.</p>
<p><strong>Example:</strong></p>
<p><code>highlight[ruby|
  def hello
    puts "Hello World"
  end
]</code></p>
</div>

<div class="section">
<h4 id="m_img">img</h4>
<p>Includes an image in the document, optionally scaled according to the specified width and height. The image must be stored within the <code>images/</code> directory of the current project.</p>
<p><strong>Examples:</strong> <br />
<code>img[icon.png]</code><br />
<code>img[holidays/landscape.jpg|70%]</code><br />
<code>img[logo.svg|50%|50%]</code></p>
</div>

<div class="section">
<h4 id="m_note">note</h4>
<p>Creates a note <code>div</code> containing the value.</p>
<p><strong>Aliases:</strong> <code>important, caution, tip</code><br />
<strong>Example:</strong> <code>note[This is a note.]</code></p>
</div>

<div class="section">
<h4 id="m_pubdate">pubdate</h4>
<p>Evaluates to a date string (in the format: <em>current-month</em> <em>current-year</em>; or <em>%B</em> <em>%Y</em>), within a <code>&lt;div&gt;</code> tag.</p>
<p><strong>Example:</strong> <code>pubdate[]</code></p>
</div>

<div class="section">
<h4 id="m_subtitle">subtitle</h4>
<p>Renders the subtitle of the document (based on the <a href="#s_document_subtitle">document.subtitle</a> setting) within a <code>&lt;h2&gt;</code> tag.</p>
<p><strong>Example:</strong> <code>subtitle[]</code></p>
</div>

<div class="section">
<h4 id="m_table">table</h4>
<p>Evaluates to an <span class="caps">HTML</span> table. Used in conjunction with the <a href="#m_tr"><code>tr</code></a>, <a href="#m_td"><code>td</code></a> and <a href="#m_th"><code>th</code></a> macros.</p>
<p><strong>Example:</strong></p>
<p><code>table[
  tr[
    th[Name]
    th[Value]
  ]
  tr[
    td[A]
    td[1]
  ]
  tr[
    td[B]
    td[2]
  ]
]</code></p>
</div>

<div class="section">
<h4 id="m_td">td</h4>
<p>See <a href="#m_table">table</a>.</p>
</div>

<div class="section">
<h4 id="m_title">title</h4>
<p>Renders the title of the document (based on the <a href="#s_document_title">document.title</a> setting) within a <code>&lt;h1&gt;</code> tag.</p>
<p><strong>Example:</strong> <code>title[]</code></p>
</div>

<div class="section">
<h4 id="m_th">th</h4>
<p>See <a href="#m_table">table</a>.</p>
</div>

<div class="section">
<h4 id="m_tr">tr</h4>
<p>See <a href="#m_table">table</a>.</p>
</div>
</div>
<div class="section">
<h3 id="h_94">Inline Macros</h3>
<div class="section">
<h4 id="m_anchor">anchor</h4>
<p>Creates a named anchor (or bookmark).</p>
<p><strong>Aliases:</strong> <code>bookmark, #</code><br />
<strong>Example:</strong> <code>#[test|Test Bookmark]</code></p>
</div>

<div class="section">
<h4 id="m_codeph">codeph</h4>
<p>Wraps the value in a <code>&lt;code&gt;</code> tag.</p>
<p><strong>Example:</strong> <code>codeph[Kernel.instance_eval]</code></p>
</div>

<div class="section">
<h4 id="m_draftcomment">draftcomment</h4>
<p>If the <a href="#s_document_draft">document.draft</a> setting is set to <code>true</code>, displays a draft comment within the document.</p>
<p><strong>Aliases:</strong> <code>dc</code></p>
<p><strong>Example:</strong> <code>dc[This is printed only in draft documents.]</code></p>
</div>

<div class="section">
<h4 id="m_fmi">fmi</h4>
<p>Creates a <em>For More Information</em> link (for an example usage, see the <a href="#m_link">#link</a> macro).</p>
<p><strong>Example:</strong> <code>fmi[creating links|#links]</code></p>
</div>

<div class="section">
<h4 id="m_link">link</h4>
<p>Creates an hyperlink (<span class="fmi">for more information on creating links, see <a href="#links">Links and Bookmarks</a></span>).</p>
<p><strong>Aliases:</strong> <code>=&gt;</code></p>
<p><strong>Examples:</strong> <br />
<code>=&gt;[#introduction]</code><br />
<code>=&gt;[#troub|Troubleshooting]</code><br />
<code>=&gt;[http://www.h3rald.com|H3RALD.com]</code></p>
</div>
</div>
<div class="section">
<h3 id="h_100">Structure Macros</h3>
<div class="section">
<h4 id="m_body">body</h4>
<p>Creates a <code>&lt;body&gt;</code> tag.</p>
</div>

<div class="section">
<h4 id="m_div">div</h4>
<p>Creates a <code>&lt;div&gt;</code> tag.</p>
<p><strong>Aliases:</strong> <codeph>acknowledgement, addendum, afterword, appendix, bibliography, book, chapter, colophon, dedication, epilogue, foreword, glossary, imprint, index, inspiration, introduction, lof, lot, part, postscript, preface, prologue, promotion, references, section, section, volume&lt;/codeph&gt;</p>
</div>

<div class="section">
<h4 id="m_document">document</h4>
<p>The root macro used in every Glyph document. It creates an <code>&lt;html&gt;</code> tag.</p>
</div>

<div class="section">
<h4 id="m_head">head</h4>
<p>Creates a <code>&lt;head&gt;</code> tag, pre-populated with <code>title</code> and author/copyright <code>&lt;meta&gt;</code> tags.</p>
</div>

<div class="section">
<h4 id="m_header">header</h4>
<p>Creates an <code>h2</code>, <code>h3</code>, <code>h4</code>, etc. header (<span class="fmi">for more information on using headers, see <a href="#sec_head">Sections and Headers</a></span>).</p>
<p><strong>Examples:</strong> <br />
<code>header[Introduction]</code><br />
<code>header[Getting Started|gs]</code></p>
</div>

<div class="section">
<h4 id="m_section">section</h4>
<p>See <a href="#m_div">div</a>.</p>
</div>

<div class="section">
<h4 id="m_style">style</h4>
<p>Embeds the content of a <span class="caps">CSS</span> or Sass file within a <code>&lt;style&gt;</code> tag (<span class="fmi">for more information on stylesheets, see <a href="#stylesheets">Adding Stylesheets</a></span>).</p>
<p><strong>Example:</strong> <code>style[default.css]</code></p>
</div>

<div class="section">
<h4 id="m_toc">toc</h4>
<p>Generates a <em>Table of Contents</em> based on how sections and headers are nested in the current document.</p>
<p><strong>Example:</strong> <code>toc[]</code></p>
</div>
</div>

</div>
			<div class="appendix">
<h2 id="cfg_ref">Configuration Reference</h2>
<div class="section">
<h3 id="h_110">document.*</h3>
<p>The following configuration settings are related to the current Glyph document. Therefore, you should update them right after creating a project.</p>
	<table><tr><th>Name</th>
				<th>Description</th>
				<th>Default (<span class="caps">YAML</span>)</th></tr>
			<tr><td><br />
<codeph>document.author</codeph> <p><a id="s_document_author"></a></p>
</td>
		<td>The author of the document.</td>
		<td><code>""</code></td></tr>
		<tr><td><br />
<codeph>document.draft</codeph> <p><a id="s_document_draft"></a></p>
</td>
		<td>If set to <code>true</code>, the document is considered a draft, so <a href="#m_draftcomment">draft comments</a> and <a href="#m_todo">todo items</a> will be displayed.</td>
		<td><code>false</code></td></tr>
		<tr><td><br />
<codeph>document.filename</codeph> <p><a id="s_document_filename"></a></p>
</td>
		<td>The name of the output file.</td>
		<td><code>""</code></td></tr>
		<tr><td><br />
<codeph>document.output</codeph> <p><a id="s_document_output"></a></p>
</td>
		<td>The format of the output file. It can be set to any value stored in the <a href="#s_document_output_targets">document.output_targets</a> setting.</td>
		<td><code>html</code></td></tr>
		<tr><td><br />
<codeph>document.output_targets</codeph> <p><a id="s_document_output_targets"></a></p>
</td>
		<td>An <code>Array</code> containing all the possible output formats. This setting should not be changed by the user.</td>
		<td><code>- :html
- :pdf</code></td></tr>
		<tr><td><br />
<codeph>document.source</codeph> <p><a id="s_document_source"></a></p>
</td>
		<td>The main source file to compile. It can be also be overridden by calling the <a href="#c_compile">compile</a> command with the <code>-s</code> option.</td>
		<td><code>document.glyph</code></td></tr>
		<tr><td><br />
<codeph>document.subtitle</codeph> <p><a id="s_document_subtitle"></a></p>
</td>
		<td>The subtitle of the document, displayed using the <a href="#m_subtitle">#subtitle</a> macro.</td>
		<td><code>""</code></td></tr>
		<tr><td><br />
<codeph>document.title</codeph> <p><a id="s_document_title"></a></p>
</td>
		<td>The title of the document, displayed using the <a href="#m_title">#title</a> macro.</td>
		<td><code>""</code></td><p></tr></table></p>
</div>
<div class="section">
<h3 id="h_111">filters.*</h3>
<table><tr><th>Name</th>
				<th>Description</th>
				<th>Default (<span class="caps">YAML</span>)</th></tr>
			<tr><td><br />
<codeph>filters.by_file_extension</codeph> <p><a id="s_filters_by_file_extension"></a></p>
</td>
		<td>If set to <code>true</code>, a filter macro is applied to included files, based on their extensions (<span class="fmi">for more information on including files, see <a href="#incl">Including Files and Snippets</a></span>).</td>
		<td><code>true</code></td></tr>
		<tr><td><br />
<codeph>filters.markdown.converter</codeph> <p><a id="s_filters_markdown_converter"></a></p>
</td>
		<td>The name of the markdown converter to use with the <a href="#m_markdown">#markdown</a> macro. It can be set to one of the following values:<br />
* BlueCloth<br />
* RDiscount<br />
* Maruku<br />
* Kramdown<br />
<br />
If not set, Glyph tests for the presence of each gem in the same order, until one is found.</td>
		<td><code>bluecloth</code></td></tr>
		<tr><td><br />
<codeph>filters.redcloth.restrictions</codeph> <p><a id="s_filters_redcloth_restrictions"></a></p>
</td>
		<td>An <code>Array</code> containing restrictions applied to RedCloth, used by the <a href="#m_textile">#textile</a> macro (see <a href="http://redcloth.rubyforge.org/classes/RedCloth/TextileDoc.html">RedCloth Documentation</a> for more information).</td>
		<td><code>[]</code></td></tr>
		<tr><td><br />
<codeph>filters.target</codeph> <p><a id="s_filters_target"></a></p>
</td>
		<td>The output target for filters. It can be set to <code>html</code> (for RedCloth and MarkDown) or <code>latex</code> (RedCloth-only).</td>
		<td><code>html</code></td><p></tr></table></p>
</div>
<div class="section">
<h3 id="s_highlighters">highlighters.*</h3>
<table><tr><th>Name</th>
				<th>Description</th>
				<th>Default (<span class="caps">YAML</span>)</th></tr>
			<tr><td><br />
<codeph>highlighters.coderay.*</codeph> <p><a id="s_highlighters_coderay_*"></a></p>
</td>
		<td>Some <a href="http://coderay.rubychan.de/">Coderay</a>-specific <a href="http://coderay.rubychan.de/doc/classes/CodeRay/Encoders/HTML.html">options</a>.</td>
		<td><code>nil</code></td></tr>
		<tr><td><br />
<codeph>highlighters.current</codeph> <p><a id="s_highlighters_current"></a></p>
</td>
		<td>The current highlighter to use. It can be set to <code>coderay</code> or <code>ultraviolet</code></td>
		<td><code>coderay</code></td></tr>
		<tr><td><br />
<codeph>highlighters.target</codeph> <p><a id="s_highlighters_target"></a></p>
</td>
		<td>The target output of the <a href="#s_highlighters_current">current highlighter</a>. It can be set to anything the highlighter supports.</td>
		<td><code>html</code></td></tr>
		<tr><td><br />
<codeph>highlighters.ultraviolet.line_numbers</codeph> <p><a id="s_highlighters_ultraviolet_line_numbers"></a></p>
</td>
		<td>Whether the <a href="http://ultraviolet.rubyforge.org/">Ultraviolet</a> highlighter should display line numbers or not.</td>
		<td><code>false</code></td></tr>
		<tr><td><br />
<codeph>highlighters.ultraviolet.theme</codeph> <p><a id="s_highlighters_ultraviolet_theme"></a></p>
</td>
		<td>The theme used by the <a href="http://ultraviolet.rubyforge.org/">Ultraviolet</a> highlighter.</td>
		<td><code>blackboard</code></td><p></tr></table></p>
</div>
<div class="section">
<h3 id="h_113">structure.*</h3>
<p>The following configuration settings are used internally by Glyph and should not be changed by the user.</p>
	<table><tr><th>Name</th>
				<th>Description</th>
				<th>Default (<span class="caps">YAML</span>)</th></tr>
			<tr><td><br />
<codeph>structure.backmatter</codeph> <p><a id="s_structure_backmatter"></a></p>
</td>
		<td>The section types used in the document backmatter.</td>
		<td><code>nil</code></td></tr>
		<tr><td><br />
<codeph>structure.bodymatter</codeph> <p><a id="s_structure_bodymatter"></a></p>
</td>
		<td>The section types used in the document bodymatter.</td>
		<td><code>nil</code></td></tr>
		<tr><td><br />
<codeph>structure.frontmatter</codeph> <p><a id="s_structure_frontmatter"></a></p>
</td>
		<td>The section types used in the document frontmatter.</td>
		<td><code>nil</code></td></tr>
		<tr><td><br />
<codeph>structure.hidden</codeph> <p><a id="s_structure_hidden"></a></p>
</td>
		<td>The section types that will not be shown in the Table of Contents.</td>
		<td><code>nil</code></td></tr>
		<tr><td><br />
<codeph>structure.special</codeph> <p><a id="s_structure_special"></a></p>
</td>
		<td>The section types that will be considered <em>special</em> and whose children will not be included in the Table of Contents.</td>
		<td><code>nil</code></td><p></tr></table></p>
</div>
<div class="section">
<h3 id="h_114">tools.*</h3>
<table><tr><th>Name</th>
				<th>Description</th>
				<th>Default (<span class="caps">YAML</span>)</th></tr>
			<tr><td><br />
<codeph>tools.pdf_generator</codeph> <p><a id="s_tools_pdf_generator"></a></p>
</td>
		<td>The external program used to generate <span class="caps">PDF</span> files. It can only be set to <code>prince</code>.</td>
		<td><code>prince</code></td><p></tr></table></p>
</div>

</div>
			<div class="appendix">
<h2 id="h_115">Changelog</h2>
<div class="section">
<header>v0.2.0 &ndash; May 9th 2010</header>
			
	
		<div class="section">
<header>23 Features Implemented</header>
			<table><tr><th>ID</th>
					<th>Description</th></tr>
				
		
		<tr><td><a href="http://github.com/h3rald/glyph/issues/closed#issue/62">#62</a></td>
			<td><p>A new <a href="#m_highlight">#highlight</a> macro is available to highlight source code (CodeRay or UltraViolet requireed).</p></td></tr>
	
		
		<tr><td><a href="http://github.com/h3rald/glyph/issues/closed#issue/76">#76</a></td>
			<td><p>It is now possible to use Glyph programmatically via the new <code>Glyph#filter</code> and <code>Glyph#compile</code> methods.</p></td></tr>
	
		
		<tr><td><a href="http://github.com/h3rald/glyph/issues/closed#issue/87">#87</a></td>
			<td><p>It is now possible to define snippets inside a Glyph source file using the <a href="#m_snippet_">#snippet:</a> macro.</p></td></tr>
		
		
		<tr><td><a href="http://github.com/h3rald/glyph/issues/closed#issue/88">#88</a></td>
			<td><p>It is now possible to change configuration settings inside a Glyph source file using the <a href="#m_config_">#config:</a> macro (Jabbslad).</p></td></tr>
		
		
		<tr><td><a href="http://github.com/h3rald/glyph/issues/closed#issue/89">#89</a></td>
			<td><p>It is now possible to compile a single Glyph source file without creating a Glyph project.</p></td></tr>
	
		
		<tr><td><a href="http://github.com/h3rald/glyph/issues/closed#issue/92">#92</a></td>
			<td><p>6 new macros have been defined to allow conditional processing (<a href="#m_condition">#condition</a> macro, <a href="#m_eq">#eq</a> macro, <a href="#m_not">#not</a> macro, <a href="#m_and">#and</a> macro, <a href="#m_or">#or</a> macro, <a href="#m_match">#match</a> macro)</p></td></tr>
	
		
		<tr><td><a href="http://github.com/h3rald/glyph/issues/closed#issue/94">#94</a></td>
			<td><p>It is now possible to add <em>validators</em> to macros, for example to check the number of parameters they take.</p></td></tr>
	
		
		<tr><td><a href="http://github.com/h3rald/glyph/issues/closed#issue/97">#97</a></td>
			<td><p>The <a href="#c_compile">compile</a> command command can now take an extra <code>--auto</code> switch to trigger document auto-regeneration whenever a source file is changed (koraktor).</p></td></tr>
	
		
		<tr><td><a href="http://github.com/h3rald/glyph/issues/closed#issue/99">#99</a></td>
			<td><p>Added a <code>document.draft</code> setting. If set to <code>true</code>, comments and TODOs are rendered in output files.</p></td></tr>
	
		
		<tr><td><a href="http://github.com/h3rald/glyph/issues/closed#issue/100">#100</a></td>
			<td><p><a id="system_css"></a>Glyph <span class="caps">CSS</span> files are no longer copied to new projects, but they can be referenced as if they were (see also <a href="#css_not_copied">#93</a>).</p></td></tr>
	
		
		<tr><td><a href="http://github.com/h3rald/glyph/issues/closed#issue/108">#108</a></td>
			<td><p>It is now possible to define Glyph macros within Glyph source files using the <a href="#m_macro_">#macro:</a> macro.</p></td></tr></table>

</div>
	
	
		<div class="section">
<header>17 Bugs Fixed</header>
			<table><tr><th>ID</th>
					<th>Description</th></tr>
				
		
		<tr><td><a href="http://github.com/h3rald/glyph/issues/closed#issue/86">#86</a></td>
			<td><p>Warning and error messages have been updated, and it is now possible to show additional debug information. Additionally, syntax errors are now handled before the document is processed.</p></td></tr>
	 
		
		<tr><td><a href="http://github.com/h3rald/glyph/issues/closed#issue/93">#93</a></td>
			<td><p><a id="css_not_copied"></a>Default css files were not copied when creating a new project. The issue has been resolved by allowing the <a href="#m_style">#style</a> macro to reference Glyph&#8217;s system styles (see also <a href="#system_css">#100</a>).</p></td></tr>
	
		
		<tr><td><a href="http://github.com/h3rald/glyph/issues/closed#issue/95">#95</a></td>
			<td><p>The <a href="#c_config">config</a> command did not save data to <span class="caps">YAML</span> configuration files. This has been fixed ensuring that internal configuration overrides are not saved to the <span class="caps">YAML</span> file too.</p></td></tr>
	
		
		<tr><td><a href="http://github.com/h3rald/glyph/issues/closed#issue/98">#98</a></td>
			<td><p>Glyph is now fully compatible with Ruby 1.9.1 and JRuby 1.4.0.</p></td></tr>
	
		
		<tr><td><a href="http://github.com/h3rald/glyph/issues/closed#issue/101">#101</a></td>
			<td><p>Additional tests have been developed to improve Textile support. There should no longer be errors when using textile block elements inside Glyph macros.</p></td></tr>
	
		
		<tr><td><a href="http://github.com/h3rald/glyph/issues/closed#issue/103">#103</a></td>
			<td><p>Fixed a bug that caused test failures when deleting the test project directory.</p></td></tr>
	
		
		<tr><td><a href="http://github.com/h3rald/glyph/issues/closed#issue/104">#104</a></td>
			<td><p>Nested Glyph macros calling <code>Macro#interpret</code> no longer ignore escape delimiters.</p></td></tr>
	
		
		<tr><td><a href="http://github.com/h3rald/glyph/issues/closed#issue/107">#107</a></td>
			<td><p>Added the possibility to encode (using the <a href="#m_encode">#encode</a> macro) and decode (using the <a href="#m_decode">#decode</a> macro) macros so that they can be interpreted later.</p></td></tr></table>

</div>

</div>
	

		<div class="section">
<header>v0.1.0 &ndash; April 8th 2010</header>
			
	Initial release.

</div>

</div>

</div>

</body>

</html>